---
title: "Google Benchmark"
description: "é€æ­¥æŒ‡å—ï¼šå¦‚ä½•ä½¿ç”¨ Google Benchmark å¯¹ C++ ä»£ç è¿›è¡ŒåŸºå‡†æµ‹è¯•"
heading: "å¦‚ä½•ä½¿ç”¨ Google Benchmark å¯¹ C++ ä»£ç è¿›è¡ŒåŸºå‡†æµ‹è¯•"
published: "2024-11-03T16:30:00Z"
modified: "2024-11-03T16:30:00Z"
sortOrder: 1
---

import Benchmarking from "../../../chunks/benchmarking/zh/benchmarking.mdx";
import FizzBuzzRules from "../../../chunks/benchmarking/zh/fizz-buzz-rules.mdx";
import FizzBuzzCpp from "../../../chunks/benchmarking-cpp/zh/fizz-buzz-cpp.mdx";
import StepByStepCpp from "../../../chunks/benchmarking-cpp/zh/step-by-step-cpp.mdx";
import MicroVsMacro from "../../../chunks/benchmarking/zh/micro-vs-macro.mdx";
import BenchmarkingCpp from "../../../chunks/benchmarking-cpp/zh/benchmarking-cpp.mdx";
import FizzBuzzRefactor from "../../../chunks/benchmarking-cpp/google-benchmark/zh/fizz-buzz-refactor.mdx";
import BenchmarkingFizzBuzz from "../../../chunks/benchmarking-cpp/google-benchmark/zh/benchmarking-fizz-buzz.mdx";
import FizzBuzzFibonacciCpp from "../../../chunks/benchmarking-cpp/zh/fizz-buzz-fibonacci-cpp.mdx";
import PlayGameCode from "../../../chunks/benchmarking-cpp/google-benchmark/play-game-code.mdx";
import BenchmarkingFizzBuzzFibonacci from "../../../chunks/benchmarking-cpp/google-benchmark/zh/benchmarking-fizz-buzz-fibonacci.mdx";
import FizzBuzzFibonacciOpenCpp from "../../../chunks/benchmarking-cpp/google-benchmark/zh/fizz-buzz-fibonacci-open-cpp.mdx";
import FizzBuzzFibonacciOpenCode from "../../../chunks/benchmarking-cpp/fizz-buzz-fibonacci-open-code.mdx";
import TheEnd from "../../../chunks/benchmarking/zh/the-end.mdx";
import OnFire from "../../../chunks/benchmarking/zh/on-fire.mdx";
import TestGameOnFireCode from "../../../chunks/benchmarking-cpp/google-benchmark/benchmark-game-on-fire-code.mdx";
import BenchmarkGameOnFireOutputStart from "../../../chunks/benchmarking-cpp/google-benchmark/benchmark-game-on-fire-output-start.mdx";
import BenchmarkGameOnFireOutput from "../../../chunks/benchmarking-cpp/google-benchmark/benchmark-game-on-fire-output.mdx";
import FizzBuzzFibonacciFix from "../../../chunks/benchmarking-cpp/google-benchmark/zh/fizz-buzz-fibonacci-fix.mdx";
import BenchmarkGameFixOutput from "../../../chunks/benchmarking-cpp/google-benchmark/benchmark-game-fix-output.mdx";
import CatchInCi from "../../../chunks/benchmarking/zh/catch-in-ci.mdx";
import CatchInCiOutput from "../../../chunks/benchmarking-cpp/google-benchmark/catch-in-ci-output.mdx";
import CatchInCiPlot from "../../../chunks/benchmarking/zh/catch-in-ci-plot.mdx";
import CatchInCiPlotRustBench from "../../../chunks/benchmarking-rust/catch-in-ci-plot-rust-bench.mdx";
import BencherFooter from "../../../chunks/learn/zh/bencher-footer.mdx";

<Benchmarking />

<FizzBuzzCpp />

<StepByStepCpp />

<MicroVsMacro />

<BenchmarkingCpp />

ä¸¤è€…éƒ½å¾—åˆ° [Bencher çš„æ”¯æŒ](/zh/docs/explanation/adapters/)ã€‚é‚£ä¹ˆä¸ºä»€ä¹ˆé€‰æ‹© Google Benchmarkï¼Ÿ
Google Benchmark æ— ç¼é›†æˆåˆ° GoogleTest ä¸­ï¼Œè€Œ GoogleTest æ˜¯ C++ ç”Ÿæ€ç³»ç»Ÿçš„äº‹å®æ ‡å‡†å•å…ƒæµ‹è¯•æ¡†æ¶ã€‚
æˆ‘å»ºè®®ä½¿ç”¨ Google Benchmark æ¥è¯„ä¼°ä»£ç çš„å»¶è¿Ÿï¼Œç‰¹åˆ«æ˜¯å½“ä½ å·²ç»ä½¿ç”¨ GoogleTest æ—¶ã€‚
ä¹Ÿå°±æ˜¯è¯´ï¼ŒGoogle Benchmark éå¸¸é€‚åˆæµ‹é‡æŒ‚é’Ÿæ—¶é—´ã€‚

<FizzBuzzRefactor />

<BenchmarkingFizzBuzz />

<FizzBuzzFibonacciCpp>
  <PlayGameCode />
</FizzBuzzFibonacciCpp>

<BenchmarkingFizzBuzzFibonacci />

<FizzBuzzFibonacciOpenCpp>
    <FizzBuzzFibonacciOpenCode />
</FizzBuzzFibonacciOpenCpp>

<TheEnd />

<br />

<OnFire />

<TestGameOnFireCode />

- å¾®åŸºå‡†æµ‹è¯• `BENCHMARK_game_100` ç”¨äºç©æ•°å­—ä¸€ç™¾ï¼ˆ`100`ï¼‰çš„æ¸¸æˆ
- å¾®åŸºå‡†æµ‹è¯• `BENCHMARK_game_1_000_000` ç”¨äºç©æ•°å­—ä¸€ç™¾ä¸‡ï¼ˆ`1_000_000`ï¼‰çš„æ¸¸æˆ

å½“æˆ‘è¿è¡Œå®ƒæ—¶ï¼Œæˆ‘å¾—åˆ°äº†è¿™ä¸ªç»“æœï¼š

<BenchmarkGameOnFireOutputStart />

ç­‰ä¸€ä¸‹â€¦â€¦å†ç­‰ä¸€ä¸‹â€¦â€¦

<BenchmarkGameOnFireOutput />

ä»€ä¹ˆï¼`1,249 ns` x `10,000` åº”è¯¥æ˜¯ `12,490,000 ns` è€Œä¸æ˜¯ `110,879,642 ns` ğŸ¤¯
å°½ç®¡æˆ‘çš„æ–æ³¢é‚£å¥‘åºåˆ—ä»£ç åŠŸèƒ½ä¸Šæ˜¯æ­£ç¡®çš„ï¼Œä½†é‡Œé¢ä¸€å®šæœ‰æ€§èƒ½é—®é¢˜ã€‚

<FizzBuzzFibonacciFix />

ç°åœ¨è®©æˆ‘ä»¬é‡æ–°è¿è¡Œè¿™äº›åŸºå‡†æµ‹è¯•ï¼Œçœ‹çœ‹æˆ‘ä»¬åšå¾—æ€ä¹ˆæ ·ï¼š

<BenchmarkGameFixOutput />

å“¦ï¼Œå“‡ï¼æˆ‘ä»¬çš„ `BENCHMARK_game` åŸºå‡†å›åˆ°äº†åŸå§‹ FizzBuzz å¤§æ¦‚çš„ä½ç½®ã€‚
å¦‚æœæˆ‘èƒ½è®°ä½é‚£ä¸ªå¾—åˆ†æ˜¯å¤šå°‘å°±å¥½äº†ï¼Œç„¶è€Œå·²ç»è¿‡å»ä¸‰å‘¨äº†ã€‚
æˆ‘çš„ç»ˆç«¯å†å²è®°å½•æ²¡æœ‰é‚£ä¹ˆé•¿ï¼Œè€Œ Google Benchmark ä¹Ÿä¸å­˜å‚¨å®ƒçš„ç»“æœã€‚
ä¸è¿‡æˆ‘è§‰å¾—å·®ä¸å¤šäº†ï¼

`BENCHMARK_game_100` åŸºå‡†æµ‹è¯•å‡ ä¹é™ä½äº† 50 å€åˆ° `34.4 ns`ã€‚
è€Œ `BENCHMARK_game_1_000_000` åŸºå‡†æµ‹è¯•åˆ™é™ä½äº†è¶…è¿‡ 1,500,000 å€ï¼ä» `110,879,642 ns` åˆ° `61.6 ns`ï¼

> ğŸ° è‡³å°‘æˆ‘ä»¬åœ¨å®ƒä¸Šçº¿å‰æŠ“åˆ°äº†è¿™ä¸ªæ€§èƒ½é—®é¢˜â€¦â€¦å“¦ï¼Œå¯¹äº†ã€‚ç®—äº†â€¦â€¦

<CatchInCi />

<CatchInCiOutput />

<CatchInCiPlot />

<CatchInCiPlotRustBench title="å¦‚ä½•ä½¿ç”¨ Google Benchmark å¯¹ C++ è¿›è¡ŒåŸºå‡†æµ‹è¯•" />

<BencherFooter />