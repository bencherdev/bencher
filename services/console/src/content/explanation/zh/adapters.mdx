---
title: "åŸºå‡†æµ‹è¯•é€‚é…å™¨"
description: "ä½¿ç”¨Bencherçš„å†…ç½®é€‚é…å™¨å’Œä½ æœ€å–œæ¬¢çš„ä»£ç åŸºå‡†æµ‹è¯•ç¨‹åºï¼Œæˆ–è€…ä½¿ç”¨è¾“å‡ºJSONçš„è‡ªå®šä¹‰ä»£ç åŸºå‡†æµ‹è¯•ç¨‹åº"
heading: "åŸºå‡†æµ‹è¯•ç¨‹åºé€‚é…å™¨"
sortOrder: 3
---

é€‚é…å™¨å°†åŸºå‡†æµ‹è¯•ç¨‹åºçš„è¾“å‡ºè½¬æ¢ä¸ºæ ‡å‡†åŒ–çš„JSONï¼ŒBencheråº¦é‡æ ¼å¼ï¼ˆBMFï¼‰ã€‚
å½“æ¥æ”¶åˆ°æ–°æŠ¥å‘Šæ—¶ï¼Œé€‚é…å™¨ä¼šåœ¨APIæœåŠ¡å™¨ä¸Šè¿è¡Œã€‚
æŸ¥çœ‹[åŸºå‡†æµ‹è¯•æ¦‚è¿°](/docs/explanation/benchmarking)ä»¥ä¾¿æ›´æ·±å…¥åœ°ç†è§£ã€‚
å®ƒä»¬å¯ä»¥åœ¨<code><a href="/docs/explanation/bencher-run">bencher run</a></code> CLIå­å‘½ä»¤ä¸­é€šè¿‡å¯é€‰çš„`--adapter`æ ‡å¿—è¿›è¡ŒæŒ‡å®šã€‚
å¦‚æœæ²¡æœ‰æŒ‡å®šé€‚é…å™¨ï¼Œå°†é»˜è®¤ä½¿ç”¨[â€œmagicâ€é€‚é…å™¨](#-magic-default)ã€‚

æœ€å¥½ä¸ºæ‚¨çš„ç”¨ä¾‹ä½¿ç”¨æœ€ç‰¹å®šçš„é€‚é…å™¨ã€‚
è¿™å°†æä¾›æœ€å‡†ç¡®ä¸”æ€§èƒ½æœ€ä½³çš„è§£æã€‚
ä¾‹å¦‚ï¼Œå¦‚æœä½ æ­£åœ¨è§£æRust
[libtest bench](https://doc.rust-lang.org/rustc/tests/index.html#benchmarks)
çš„è¾“å‡ºï¼Œä½ åº”è¯¥ä½¿ç”¨`rust_bench`é€‚é…å™¨ï¼Œè€Œä¸æ˜¯`magic`æˆ–`rust`é€‚é…å™¨ã€‚
æŸ¥çœ‹æˆ‘ä»¬çš„
[Bencher perfé¡µé¢](https://bencher.dev/perf/bencher?key=true&metric_kind=latency&tab=benchmarks&testbeds=0d991aac-b241-493a-8b0f-8d41419455d2&branches=619d15ed-0fbd-4ccb-86cb-fddf3124da29&benchmarks=3525f177-fc8f-4a92-bd2f-dda7c4e15699%2C5655ed2a-3e45-4622-bdbd-39cdd9837af8%2C1db23e93-f909-40aa-bf42-838cc7ae05f5&start_time=1674777600000)
ä»¥ä¾¿è¿›è¡Œè‰¯å¥½æ¯”è¾ƒã€‚

<div class="content has-text-centered">
<a href="https://bencher.dev/perf/bencher?key=true&metric_kind=latency&tab=benchmarks&testbeds=0d991aac-b241-493a-8b0f-8d41419455d2&branches=619d15ed-0fbd-4ccb-86cb-fddf3124da29&benchmarks=3525f177-fc8f-4a92-bd2f-dda7c4e15699%2C1db23e93-f909-40aa-bf42-838cc7ae05f5&start_time=1674950400000"><img style="border: 0.2em solid #ed6704;" src="https://api.bencher.dev/v0/projects/bencher/perf/img?branches=619d15ed-0fbd-4ccb-86cb-fddf3124da29&testbeds=0d991aac-b241-493a-8b0f-8d41419455d2&benchmarks=3525f177-fc8f-4a92-bd2f-dda7c4e15699%2C1db23e93-f909-40aa-bf42-838cc7ae05f5&metric_kind=latency&start_time=1674950400000&title=Benchmark+Adapter+Comparison" title="åŸºå‡†æµ‹è¯•é€‚é…å™¨å¯¹æ¯”" alt="åŸºå‡†æµ‹è¯•é€‚é…å™¨å¯¹æ¯” for Bencher - Bencher" /></a>
</div>

## ğŸª„ Magic <small>(é»˜è®¤)</small>

Magicé€‚é…å™¨(`magic`)æ˜¯æ‰€æœ‰å…¶ä»–é€‚é…å™¨çš„è¶…é›†ã€‚
å› æ­¤ï¼Œå®ƒæ˜¯`bencher run`çš„é»˜è®¤é€‚é…å™¨ï¼Œ
ä½†æ˜¯æœ€å¥½åªç”¨äºæ¢ç´¢ã€‚
åœ¨CIä¸­ï¼Œä½ åº”è¯¥ä¸ºä½ çš„ç”¨ä¾‹ä½¿ç”¨æœ€ç‰¹å®šçš„é€‚é…å™¨ã€‚

## \{...\} JSON

JSONé€‚é…å™¨(`json`)æœŸå¾…BMF JSONã€‚
å®ƒéå¸¸é€‚åˆä¸Bencheré›†æˆè‡ªå®šä¹‰åŸºå‡†æµ‹è¯•çš„ç¨‹åºã€‚

BMFçš„ä¾‹å­ï¼š

```
{
    "benchmark_name": {
        "latency": {
            value: 88.0,
            lower_value: 87.42,
            upper_value: 88.88
        }
    }
}
```

åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œé”®`benchmark_name`å°†æ˜¯ä¸€ä¸ªåŸºå‡†æµ‹è¯•çš„åç§°ã€‚
åŸºå‡†æµ‹è¯•çš„åå­—å¯ä»¥æ˜¯ä»»ä½•é•¿åº¦ä¸è¶…è¿‡1024ä¸ªå­—ç¬¦çš„éç©ºå­—ç¬¦ä¸²ã€‚
`benchmark_name`å¯¹è±¡åŒ…å«Metric Kindåˆ«åæˆ–UUIDä½œä¸ºé”®ã€‚
åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ`latency`æ˜¯å»¶è¿Ÿåº¦é‡ç§ç±»çš„åˆ«åã€‚
æ¯ä¸ªé¡¹ç›®é»˜è®¤å…·æœ‰ä¸€ä¸ªå»¶è¿Ÿï¼ˆå³`latency`ï¼‰å’Œååé‡ï¼ˆå³`throughput`ï¼‰åº¦é‡ç§ç±»ï¼Œ
å®ƒä»¬åˆ†åˆ«åœ¨`çº³ç§’ï¼ˆnsï¼‰`å’Œ`æ“ä½œæ•°/ç§’ï¼ˆops/sï¼‰`ä¸­æµ‹é‡ã€‚
åº¦é‡ç§ç±»å¯¹è±¡åŒ…å«æœ€å¤šä¸‰ä¸ªæµ‹é‡å€¼ï¼š`value`ã€`lower_value`å’Œ`upper_value`ã€‚
`lower_value`å’Œ`upper_value`æµ‹é‡å€¼æ˜¯å¯é€‰çš„ï¼Œ
å®ƒä»¬çš„è®¡ç®—æ˜¯åŸºå‡†æµ‹è¯•ç¨‹åºç‰¹å®šçš„ã€‚

åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ`latency`åº¦é‡ç§ç±»å¯¹è±¡åŒ…å«ä»¥ä¸‹æµ‹é‡å€¼ï¼š

- `value`ä¸º`88.0`
- `lower_value`ä¸º`87.42`
- `upper_value`ä¸º`88.88`

å¦‚æœBMF JSONå­˜å‚¨åœ¨æ–‡ä»¶ä¸­ï¼Œ
é‚£ä¹ˆä½ å¯ä»¥ä½¿ç”¨<code><a href="/docs/explanation/bencher-run">bencher run</a></code> CLIå­å‘½ä»¤å¹¶ä½¿ç”¨å¯é€‰çš„`--file`å‚æ•°æ¥æŒ‡å®šé‚£ä¸ªæ–‡ä»¶è·¯å¾„ã€‚
è¿™å¯¹äºå…·æœ‰åŸºå‡†æµ‹è¯•å‘½ä»¤ï¼ˆä¾‹å¦‚ï¼š`bencher run "bencher mock > results.json" --file results.json`ï¼‰
å’Œæ²¡æœ‰åŸºå‡†æµ‹è¯•å‘½ä»¤çš„æƒ…å†µéƒ½é€‚ç”¨ï¼ˆä¾‹å¦‚ï¼š`bencher mock > results.json && bencher run --file results.json`ï¼‰ã€‚

<br/>

> ğŸ° æ³¨æ„ï¼š`bencher mock` CLIå­å‘½ä»¤ä¼šç”Ÿæˆæ¨¡æ‹ŸBMFåº¦é‡å€¼ã€‚

## #ï¸âƒ£ C#

C#é€‚é…å™¨(`c_sharp`)æ˜¯`c_sharp_dot_net`çš„è¶…é›†ã€‚

## #ï¸âƒ£ C# DotNet

C# DotNeté€‚é…å™¨(`c_sharp_dot_net`)æœŸå¾…ä½¿ç”¨[BenchmarkDotNet](https://github.com/dotnet/BenchmarkDotNet)çš„è¾“å‡ºï¼Œè¾“å‡ºä¸º[JSONæ ¼å¼ï¼ˆå³ `--exporters json`ï¼‰](https://benchmarkdotnet.org/articles/configs/exporters.html#sample-introexportjson)ã€‚
æ”¶é›†`latency`åº¦é‡ç§ç±»æ•°æ® (å³ `nanoseconds (ns)`).

åº¦é‡å€¼æœ‰ä¸¤ä¸ªé€‰é¡¹ï¼š
- `mean` (default): `lower_value`å’Œ`upper_value`åˆ†åˆ«ä½äºå‡å€¼ (å³ `value`) çš„ä¸€ä¸ªæ ‡å‡†å·®ä¹‹ä¸‹å’Œä¹‹ä¸Šã€‚
- `median`: `lower_value`å’Œ`upper_value`åˆ†åˆ«æ˜¯ä¸­ä½æ•° (å³ `value`) çš„ä¸€ä¸ªå››åˆ†ä½è·ä¹‹ä¸‹å’Œä¹‹ä¸Šã€‚

è¿™å¯ä»¥åœ¨<code><a href="/docs/explanation/bencher-run">bencher run</a></code> CLIå­å‘½ä»¤ä¸­é€šè¿‡å¯é€‰çš„`--average`æ ‡å¿—è¿›è¡ŒæŒ‡å®šã€‚

## â• C++

C++é€‚é…å™¨ (`cpp`)æ˜¯`cpp_catch2`å’Œ`cpp_google`çš„è¶…é›†ã€‚

## â• C++ Catch2

C++ Catch2é€‚é…å™¨ (`cpp_catch2`) æœŸå¾… [Catch2](https://github.com/catchorg/Catch2) çš„è¾“å‡ºã€‚
æ”¶é›†`latency`åº¦é‡ç§ç±»æ•°æ® (å³ `nanoseconds (ns)`).
`lower_value`å’Œ`upper_value`åˆ†åˆ«ä½äºå‡å€¼ (å³ `value`) çš„ä¸€ä¸ªæ ‡å‡†å·®ä¹‹ä¸‹å’Œä¹‹ä¸Šã€‚

## â• C++ Google

C++ Googleé€‚é…å™¨ (`cpp_google`) æœŸå¾… [Google åŸºå‡†æµ‹è¯•](https://github.com/google/benchmark)çš„è¾“å‡ºï¼Œè¾“å‡ºä¸º[JSONæ ¼å¼ (å³ `--benchmark_format=json`)](https://github.com/google/benchmark/blob/main/docs/user_guide.md#output-formats)ã€‚
æ”¶é›†`latency`åº¦é‡ç§ç±»æ•°æ® (å³ `nanoseconds (ns)`).
åªæœ‰å‡å€¼ (å³ `value`) å¯ç”¨ã€‚æ²¡æœ‰ `lower_value` å’Œ `upper_value`ã€‚

## ğŸ•³ Go

Goé€‚é…å™¨ (`go`)æ˜¯`go_bench`çš„è¶…é›†ã€‚

## ğŸ•³ Go Bench

Go Benché€‚é…å™¨ (`go_bench`)æœŸå¾…[go test -bench](https://pkg.go.dev/testing#hdr-Benchmarks)çš„è¾“å‡ºã€‚
æ”¶é›†`latency`åº¦é‡ç§ç±»æ•°æ® (å³ `nanoseconds (ns)`).
åªæœ‰å‡å€¼ (å³ `value`) å¯ç”¨ã€‚æ²¡æœ‰ `lower_value` å’Œ `upper_value`ã€‚

## â˜•ï¸ Java

Javaé€‚é…å™¨ (`java`)æ˜¯`java_jmh`çš„è¶…é›†ã€‚

## â˜•ï¸ Java JMH

Java JMHé€‚é…å™¨ (`java_jmh`)æœŸå¾…[Java Microbenchmark Harness (JMH)](https://github.com/openjdk/jmh)çš„è¾“å‡ºï¼Œè¾“å‡ºä¸º[JSONæ ¼å¼ (å³ `-rf json`)](https://github.com/openjdk/jmh/blob/master/jmh-core/src/main/java/org/openjdk/jmh/results/format/ResultFormatType.java)ã€‚
å¯åŒæ—¶æ”¶é›†`latency`å’Œ`throughput`åº¦é‡ç§ç±»æ•°æ® (å³ `nanoseconds (ns)` å’Œ `operations / second (ops/sec)`).
`lower_value`å’Œ`upper_value`æ˜¯å‡å€¼ (å³ `value`) çš„ä¸‹é™å’Œä¸Šé™é—´éš”ã€‚

## ğŸ•¸ JavaScript

JavaScripté€‚é…å™¨ (`js`)æ˜¯`js_benchmark`å’Œ`js_time`çš„è¶…é›†ã€‚

## ğŸ•¸ JavaScript Benchmark

JavaScript Benchmarké€‚é…å™¨ (`js_benchmark`)æœŸå¾…[Benchmark.js](https://github.com/bestiejs/benchmark.js)çš„è¾“å‡ºã€‚
æ”¶é›†`throughput`åº¦é‡ç§ç±»æ•°æ® (å³ `operations / second (ops/sec)`).
`lower_value`å’Œ`upper_value`ä¸ºä¸­ä½æ•° (å³ `value`) çš„ä¸‹æ–¹å’Œä¸Šæ–¹çš„ç›¸å¯¹è¯¯å·®èŒƒå›´ã€‚

## ğŸ•¸ JavaScript Time

JavaScript Timeé€‚é…å™¨ (`js_time`)æœŸå¾…[console.time](https://developer.mozilla.org/en-US/docs/Web/API/console/time)/[console.timeEnd](https://developer.mozilla.org/en-US/docs/Web/API/console/timeEnd)çš„è¾“å‡ºã€‚
æ”¶é›†`latency`åº¦é‡ç§ç±»æ•°æ® (å³ `nanoseconds (ns)`).
åªæœ‰æ“ä½œæ—¶é—´(å³ `value`)å¯ç”¨ã€‚æ²¡æœ‰ `lower_value`å’Œ`upper_value`.

## ğŸ Python

Pythoné€‚é…å™¨ (`python`)æ˜¯`python_asv`å’Œ`python_pytest`çš„è¶…é›†ã€‚

## ğŸ Python ASV

Python ASVé€‚é…å™¨ (`python_asv`)æœŸå¾…ä½¿ç”¨[airspeed velocity](https://github.com/airspeed-velocity/asv) CLI çš„[asv run](https://asv.readthedocs.io/en/stable/commands.html#asv-run)çš„è¾“å‡ºã€‚
æ”¶é›†`latency`åº¦é‡ç§ç±»æ•°æ® (å³ `nanoseconds (ns)`).
`lower_value`å’Œ`upper_value`åˆ†åˆ«æ˜¯ä¸­ä½æ•° (å³ `value`) ä¸‹æ–¹å’Œä¸Šæ–¹çš„å››åˆ†ä½è·ã€‚

## ğŸ Python Pytest

Python Pytesté€‚é…å™¨ (`python_pytest`)æœŸå¾…[pytest-benchmark](https://github.com/ionelmc/pytest-benchmark)çš„è¾“å‡ºï¼Œè¾“å‡ºä¸º[JSONæ ¼å¼ (å³ `--benchmark-json results.json`)](https://pytest-benchmark.readthedocs.io/en/latest/usage.html#commandline-options)ã€‚
è¿™ä¸ªJSONè¾“å‡ºä¿å­˜åˆ°ä¸€ä¸ªæ–‡ä»¶ï¼Œæ‰€ä»¥ä½ å¿…é¡»ä½¿ç”¨`bencher run` CLI çš„ `--file`å‚æ•°æ¥æŒ‡å®šé‚£ä¸ªæ–‡ä»¶è·¯å¾„ (å³ `bencher run --file results.json "pipenv run pytest --benchmark-json results.json benchmarks.py"`).
æ”¶é›†`latency`åº¦é‡ç§ç±»æ•°æ® (å³ `nanoseconds (ns)`).

åº¦é‡å€¼æœ‰ä¸¤ä¸ªé€‰é¡¹ï¼š
- `mean` (default): `lower_value`å’Œ`upper_value`åˆ†åˆ«ä½äºå‡å€¼ (å³ `value`) çš„ä¸€ä¸ªæ ‡å‡†å·®ä¹‹ä¸‹å’Œä¹‹ä¸Šã€‚
- `median`: `lower_value`å’Œ`upper_value`åˆ†åˆ«æ˜¯ä¸­ä½æ•° (å³ `value`) çš„ä¸€ä¸ªå››åˆ†ä½è·ä¹‹ä¸‹å’Œä¹‹ä¸Šã€‚

è¿™å¯ä»¥åœ¨<code><a href="/docs/explanation/bencher-run">bencher run</a></code> CLIå­å‘½ä»¤ä¸­é€šè¿‡å¯é€‰çš„`--average`å‚æ•°è¿›è¡ŒæŒ‡å®šã€‚

## â™¦ï¸ Ruby

Rubyé€‚é…å™¨ (`ruby`)æ˜¯`ruby_benchmark`çš„è¶…é›†ã€‚

## â™¦ï¸ Ruby Benchmark

Ruby Benchmarké€‚é…å™¨ (`ruby_benchmark`)æœŸå¾…[Benchmarkæ¨¡å—](https://github.com/ruby/benchmark)çš„`#bm`ã€`#bmbm`å’Œ`#benchmark`æ–¹æ³•çš„è¾“å‡ºã€‚
æ¯ä¸ªåŸºå‡†æµ‹è¯•å¿…é¡»æœ‰ä¸€ä¸ªæ ‡ç­¾ã€‚
æ”¶é›†`latency`åº¦é‡ç§ç±»æ•°æ® (å³ `nanoseconds (ns)`).
åªæœ‰æŠ¥å‘Šçš„å€¼(å³ `value`)å¯ç”¨ã€‚æ²¡æœ‰ `lower_value`å’Œ`upper_value`ã€‚

## ğŸ¦€ Rust

Rusté€‚é…å™¨ (`rust`)æ˜¯`rust_bench`å’Œ`rust_criterion`çš„è¶…é›†ã€‚

## ğŸ¦€ Rust Bench

Rust Benché€‚é…å™¨ (`rust_bench`)æœŸå¾…[libtest bench](https://doc.rust-lang.org/rustc/tests/index.html#benchmarks)çš„è¾“å‡ºã€‚
æ”¶é›†`latency`åº¦é‡ç§ç±»æ•°æ® (å³ `nanoseconds (ns)`).
`lower_value`å’Œ`upper_value`åˆ†åˆ«æ˜¯ä¸­ä½æ•° (å³ `value`) çš„åå·®ä¸‹é™å’Œä¸Šé™ã€‚

## ğŸ¦€ Rust Criterion

Rust Criterioné€‚é…å™¨ (`rust_criterion`)æœŸå¾…[Criterion](https://github.com/bheisler/criterion.rs)çš„è¾“å‡ºã€‚
æ”¶é›†`latency`åº¦é‡ç§ç±»æ•°æ® (å³ `nanoseconds (ns)`).
`lower_value`å’Œ`upper_value`æ˜¯æ–œç‡(å¦‚æœå¯ç”¨)æˆ–å‡å€¼(å¦‚æœä¸å¯ç”¨) (å³ `value`) çš„ä¸‹é™å’Œä¸Šé™ã€‚

## ğŸ¦€ Rust Iai

Rust Iaié€‚é…å™¨ (`rust_iai`)æœŸå¾…[Iai](https://github.com/bheisler/iai)çš„è¾“å‡ºã€‚
æ”¶é›†çš„`instructions`ã€`l1_access`ã€`l2_access`ã€`ram_access`å’Œ`estimated_cycles`åº¦é‡ç§ç±»çš„æ•°æ®ã€‚
åªæœ‰è¿™äº›æµ‹é‡å€¼(å³ `value`) å¯ç”¨ã€‚æ²¡æœ‰ `lower_value`å’Œ`upper_value`æµ‹é‡å€¼ã€‚
è¿™ä¸ªé€‚é…å™¨çš„åº¦é‡ç§ç±»ä¸ä¼šé»˜è®¤ä¸ºæ‰€æœ‰é¡¹ç›®åˆ›å»ºã€‚
ä½†æ˜¯ï¼Œå½“ä½ ä½¿ç”¨è¿™ä¸ªé€‚é…å™¨æ—¶ï¼Œè¿™äº›åº¦é‡ç§ç±»ä¼šè‡ªåŠ¨ä¸ºä½ çš„é¡¹ç›®åˆ›å»ºã€‚

<br />
<br />

> ğŸ° æ­å–œï¼ä½ å·²ç»å­¦ä¹ äº†æ‰€æœ‰å…³äºåŸºå‡†æµ‹è¯•ç¨‹åºé€‚é…å™¨çš„çŸ¥è¯†ï¼ğŸ‰

<br/>

<h2><a href="/docs/explanation/thresholds">ç»§ç»­å‰è¿›ï¼šé˜ˆå€¼å’Œè­¦å‘Š â¡</a></h2>