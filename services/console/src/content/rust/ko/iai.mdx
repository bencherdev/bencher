---
title: "Iai"
description: "Rust ì½”ë“œë¥¼ Iaië¡œ ë²¤ì¹˜ë§ˆí‚¹í•˜ëŠ” ë‹¨ê³„ë³„ ê°€ì´ë“œ"
heading: "Rust ì½”ë“œë¥¼ Iaië¡œ ë²¤ì¹˜ë§ˆí‚¹í•˜ëŠ” ë°©ë²•"
sortOrder: 3
---

import Benchmarking from "../../../chunks/benchmarking/ko/benchmarking.mdx";
import FizzBuzzRules from "../../../chunks/benchmarking/ko/fizz-buzz-rules.mdx";
import FizzBuzzRust from "../../../chunks/rust/ko/fizz-buzz-rust.mdx";
import StepByStepRust from "../../../chunks/rust/ko/step-by-step-rust.mdx";
import MicroVsMacro from "../../../chunks/benchmarking/ko/micro-vs-macro.mdx";
import BenchmarkingRust from "../../../chunks/rust/ko/benchmarking-rust.mdx";
import FizzBuzzRefactor from "../../../chunks/rust/criterion/ko/fizz-buzz-refactor.mdx";
import GameBenchesTree from "../../../chunks/rust/criterion/game-benches-tree.mdx";
import FizzBuzzRefactorBenchesCode from "../../../chunks/rust/iai/fizz-buzz-refactor-benches-code.mdx";
import GameCargoToml from "../../../chunks/rust/iai/game-cargo-toml.mdx";
import BenchPlayGameOutput from "../../../chunks/rust/iai/bench-play-game-output.mdx";
import FizzBuzzFibonacciRust from "../../../chunks/rust/ko/fizz-buzz-fibonacci-rust.mdx";
import PlayGameRustCode from "../../../chunks/rust/criterion/play-game-rust-code.mdx";
import BenchPlayGameFibonacciOutput from "../../../chunks/rust/iai/bench-play-game-fibonacci-output.mdx";
import FizzBuzzFibonacciOpenRust from "../../../chunks/rust/ko/fizz-buzz-fibonacci-open-rust.mdx";
import FizzBuzzFibonacciOpenRustCode from "../../../chunks/rust/criterion/fizz-buzz-fibonacci-open-rust-code.mdx";
import TheEnd from "../../../chunks/benchmarking/ko/the-end.mdx";
import OnFire from "../../../chunks/benchmarking/ko/on-fire.mdx";
import BenchPlayGameOnFireCode from "../../../chunks/rust/iai/bench-play-game-on-fire-code.mdx";
import BenchPlayGameOnFireOutputStart from "../../../chunks/rust/iai/bench-play-game-on-fire-output-start.mdx";
import BenchPlayGameOnFireOutput from "../../../chunks/rust/iai/bench-play-game-on-fire-output.mdx";
import FizzBuzzFibonacciFixRust from "../../../chunks/rust/ko/fizz-buzz-fibonacci-fix-rust.mdx";
import BenchPlayGameFixOutput from "../../../chunks/rust/iai/bench-play-game-fix-output.mdx";
import CatchInCi from "../../../chunks/benchmarking/ko/catch-in-ci.mdx";
import CatchInCiOutput from "../../../chunks/rust/iai/catch-in-ci-output.mdx";
import CatchInCiPlot from "../../../chunks/benchmarking/ko/catch-in-ci-plot.mdx";
import CatchInCiPlotRustBench from "../../../chunks/rust/catch-in-ci-plot-rust-bench.mdx";
import BencherFooter from "../../../chunks/learn/ko/bencher-footer.mdx";

<Benchmarking />

<FizzBuzzRust />

<StepByStepRust />

<MicroVsMacro />

<BenchmarkingRust />

ì„¸ ê°€ì§€ ëª¨ë‘ [Bencherê°€ ì§€ì›](/ko/docs/explanation/adapters/)í•©ë‹ˆë‹¤. ê·¸ë ‡ë‹¤ë©´ ì™œ Iaië¥¼ ì„ íƒí•˜ë‚˜ìš”?
IaiëŠ” ë²½ì‹œê³„ ì‹œê°„ ëŒ€ì‹  ëª…ë ¹ ìˆ˜ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.
ì´ëŠ” CIì—ì„œì˜ [ì§€ì†ì ì¸ ë²¤ì¹˜ë§ˆí‚¹](/ko/docs/explanation/continuous-benchmarking/)ì— ì´ìƒì ì…ë‹ˆë‹¤.
íŠ¹íˆ ê³µìœ  ì‹¤í–‰ìë¥¼ ì‚¬ìš©í•˜ëŠ” ê²½ìš°ì—ëŠ” Iaië¥¼ ì‚¬ìš©í•˜ì—¬ ì§€ì†ì ì¸ ë²¤ì¹˜ë§ˆí‚¹ì„ í•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.
Iaiê°€ ì‹¤ì œë¡œ ì¤‘ìš”í•œ ê²ƒì— ëŒ€í•œ í”„ë¡ì‹œë§Œ ì¸¡ì •í•œë‹¤ëŠ” ê²ƒì„ ì´í•´í•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•©ë‹ˆë‹¤.
1,000ê°œì˜ ëª…ë ¹ì´ 2,000ê°œë¡œ ëŠ˜ì–´ë‚˜ë©´ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ëŒ€ê¸° ì‹œê°„ì´ ë‘ ë°°ê°€ ë©ë‹ˆê¹Œ?
ì•„ë§ˆ ê·¸ë ‡ê±°ë‚˜ ê·¸ë ‡ì§€ ì•Šì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
ì´ëŸ° ì´ìœ ë¡œ, ëª…ë ¹ ê°œìˆ˜ì— ê¸°ë°˜ì„ ë‘” ë²¤ì¹˜ë§ˆí¬ì™€ ë™ì‹œì— ë²½ì‹œê³„ ì‹œê°„ì— ê¸°ë°˜ì„ ë‘” ë²¤ì¹˜ë§ˆí¬ë¥¼ ì‹¤í–‰í•˜ëŠ” ê²ƒì´ ìœ ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

> ğŸ° IaiëŠ” [3ë…„ ì´ìƒ ì—…ë°ì´íŠ¸ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤](https://github.com/bheisler/iai/commits/main/). ê·¸ë˜ì„œ [Iai-Callgrindë¥¼ ì‚¬ìš©](/ko/docs/explanation/adapters/#-rust-iai-callgrind)í•˜ëŠ” ê²ƒì„ ê³ ë ¤í•´ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## Valgrind ì„¤ì¹˜

IaiëŠ” ëª…ë ¹ ìˆ˜ë¥¼ ìˆ˜ì§‘í•˜ê¸° ìœ„í•´ [Valgrind](https://valgrind.org/)ë¼ëŠ” ë„êµ¬ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.
ValgrindëŠ” Linux, Solaris, FreeBSD, ê·¸ë¦¬ê³  MacOSë¥¼ ì§€ì›í•©ë‹ˆë‹¤.
ê·¸ëŸ¬ë‚˜ MacOS ì§€ì›ì€ [ì•„ì§ ì§€ì›ë˜ì§€ ì•ŠëŠ”](https://github.com/LouisBrunner/valgrind-macos/issues/56) arm64 (M1, M2 ë“±) í”„ë¡œì„¸ì„œë¥¼ ì œì™¸í•œ x86_64 í”„ë¡œì„¸ì„œë¡œ ì œí•œë©ë‹ˆë‹¤.

Debianì—ì„œ ì‹¤í–‰: `sudo apt-get install valgrind`

MacOS (x86_64/Intel chip only): `brew install valgrind`

<FizzBuzzRefactor />

## FizzBuzz ë²¤ì¹˜ë§ˆí‚¹

ì½”ë“œë¥¼ ë²¤ì¹˜ë§ˆí¬í•˜ë ¤ë©´ `benches` ë””ë ‰í† ë¦¬ë¥¼ ìƒì„±í•˜ê³  ë²¤ì¹˜ë§ˆí¬ë¥¼ í¬í•¨í•  íŒŒì¼ì¸ `play_game.rs`ë¥¼ ì¶”ê°€í•´ì•¼ í•©ë‹ˆë‹¤:

<GameBenchesTree />

`play_game.rs` ë‚´ì— ë‹¤ìŒ ì½”ë“œë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤:

<FizzBuzzRefactorBenchesCode />

- `game` í¬ë ˆì´íŠ¸ì—ì„œ `play_game` í•¨ìˆ˜ë¥¼ importí•©ë‹ˆë‹¤.
- `bench_play_game`ì´ë¼ëŠ” í•¨ìˆ˜ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.
- ì»´íŒŒì¼ëŸ¬ê°€ ìš°ë¦¬ì˜ ì½”ë“œë¥¼ ìµœì í™”í•˜ì§€ ëª»í•˜ë„ë¡ "black box" ë‚´ì—ì„œ ìš°ë¦¬ì˜ macro-benchmarkë¥¼ ì‹¤í–‰í•©ë‹ˆë‹¤.
- `1`ë¶€í„° `100`ê¹Œì§€ ìˆœì°¨ì ìœ¼ë¡œ ë°˜ë³µí•©ë‹ˆë‹¤.
- ê° ìˆ«ìì— ëŒ€í•´ `play_game`ì„ í˜¸ì¶œí•˜ê³ , `print`ë¥¼ `false`ë¡œ ì„¤ì •í•©ë‹ˆë‹¤.

ì´ì œ ë²¤ì¹˜ë§ˆí¬ë¥¼ ì‹¤í–‰í•˜ê¸° ìœ„í•´ `game` í¬ë ˆì´íŠ¸ë¥¼ ì„¤ì •í•´ì•¼ í•©ë‹ˆë‹¤.

`Cargo.toml` íŒŒì¼ì˜ _ë°”ë‹¥_ì— ë‹¤ìŒì„ ì¶”ê°€í•©ë‹ˆë‹¤:

<GameCargoToml />

- `iai`: `iai`ë¥¼ ê°œë°œ ì¢…ì†ì„±ìœ¼ë¡œ ì¶”ê°€í•©ë‹ˆë‹¤. ì™œëƒí•˜ë©´ ìš°ë¦¬ëŠ” ì´ë¥¼ ì„±ëŠ¥ í…ŒìŠ¤íŒ…ì„ ìœ„í•´ ì‚¬ìš©í•˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.
- `bench`: `play_game`ì„ ë²¤ì¹˜ë§ˆí¬ë¡œ ë“±ë¡í•˜ê³  `harness`ë¥¼ `false`ë¡œ ì„¤ì •í•©ë‹ˆë‹¤. ì™œëƒí•˜ë©´ ë²¤ì¹˜ë§ˆí‚¹ í•˜ë„¤ìŠ¤ë¡œ Iaië¥¼ ì‚¬ìš©í•  ê²ƒì´ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.

ì´ì œ ì½”ë“œë¥¼ ë²¤ì¹˜ë§ˆí‚¹í•  ì¤€ë¹„ê°€ ë˜ì—ˆìŠµë‹ˆë‹¤, `cargo bench`ë¥¼ ì‹¤í–‰í•˜ì„¸ìš”:

<BenchPlayGameOutput />

> ğŸ° Lettuce turnip the beet! ìš°ë¦¬ëŠ” ì²« ë²¤ì¹˜ë§ˆí¬ ë©”íŠ¸ë¦­ì„ ì–»ì—ˆìŠµë‹ˆë‹¤!

ë“œë””ì–´, ìš°ë¦¬ëŠ” ì§€ì¹œ ê°œë°œì ë¨¸ë¦¬ë¥¼ ì‰´ ìˆ˜ ìˆìŠµë‹ˆë‹¤...
ë†ë‹´ì…ë‹ˆë‹¤, ìš°ë¦¬ ì‚¬ìš©ìë“¤ì€ ìƒˆë¡œìš´ ê¸°ëŠ¥ì„ ì›í•©ë‹ˆë‹¤!

<FizzBuzzFibonacciRust>
  <PlayGameRustCode />
</FizzBuzzFibonacciRust>

## FizzBuzzFibonacci ë²¤ì¹˜ë§ˆí‚¹

ì´ì œ ë²¤ì¹˜ë§ˆí¬ë¥¼ ë‹¤ì‹œ ì‹¤í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

<BenchPlayGameFibonacciOutput />

ì˜¤, ê¹”ë”! IaiëŠ” ìš°ë¦¬ì˜ FizzBuzzì™€ FizzBuzzFibonacci ê²Œì„ì˜ ì¶”ì •ëœ ì‚¬ì´í´ ì‚¬ì´ì˜ ì°¨ì´ëŠ” `+522.6091%`ë¼ê³  ì•Œë ¤ì¤ë‹ˆë‹¤.
ë‹¹ì‹ ì˜ ìˆ«ìëŠ” ì œ ìˆ«ìì™€ ì•½ê°„ ë‹¤ë¥¼ ê²ƒì…ë‹ˆë‹¤.
ê·¸ëŸ¬ë‚˜ ë‘ ê²Œì„ ì‚¬ì´ì˜ ì°¨ì´ëŠ” ì•„ë§ˆ `5x` ë²”ìœ„ì— ìˆì„ ê²ë‹ˆë‹¤.
ê·¸ê²Œ ì¢‹ì€ ê²ƒ ê°™ì•„ìš”! íŠ¹íˆ ìš°ë¦¬ ê²Œì„ì— _Fibonacci_ì²˜ëŸ¼ ë©‹ì§„ ê¸°ëŠ¥ì„ ì¶”ê°€í–ˆì„ ë•Œ ë§ì´ì£ .
ì•„ì´ë“¤ì´ ì´ê²ƒì„ ì¢‹ì•„í•  ê±°ì˜ˆìš”!

<FizzBuzzFibonacciOpenRust>
  <FizzBuzzFibonacciOpenRustCode />
</FizzBuzzFibonacciOpenRust>

<TheEnd />

<br />

<OnFire />

<BenchPlayGameOnFireCode />

- ìˆ«ì ë°± (`100`)ìœ¼ë¡œ ê²Œì„ì„ í”Œë ˆì´í•˜ëŠ” ë§ˆì´í¬ë¡œ ë²¤ì¹˜ë§ˆí¬ `bench_play_game_100`
- ìˆ«ì ë°±ë§Œ (`1_000_000`)ìœ¼ë¡œ ê²Œì„ì„ í”Œë ˆì´í•˜ëŠ” ë§ˆì´í¬ë¡œ ë²¤ì¹˜ë§ˆí¬ `bench_play_game_1_000_000`

ê·¸ê²ƒì„ ì‹¤í–‰í–ˆì„ ë•Œ, ì €ëŠ” ì´ë ‡ê²Œ ë°›ì•˜ìŠµë‹ˆë‹¤:

<BenchPlayGameOnFireOutputStart />

ê¸°ë‹¤ë¦¬ê³ ... ê¸°ë‹¤ë¦¬ê³ ...

<BenchPlayGameOnFireOutput />

ë¬´ì—‡! `6,685 ì¶”ì • ì‚¬ì´í´` x `1,000`ì€ `6,685,000 ì¶”ì • ì‚¬ì´í´`ì´ì–´ì•¼ í•˜ì§€ `155,109,206 ì¶”ì • ì‚¬ì´í´`ì´ ì•„ë‹ˆì•¼ ğŸ¤¯
ë¹„ë¡ ë‚˜ì˜ í”¼ë³´ë‚˜ì¹˜ ìˆ˜ì—´ ì½”ë“œê°€ ê¸°ëŠ¥ì ìœ¼ë¡œ ì •í™•í•˜ë‹¤ê³  í•´ë„, ì–´ë”˜ê°€ì— ì„±ëŠ¥ ë²„ê·¸ê°€ ìˆì–´ì•¼ í•©ë‹ˆë‹¤.

<FizzBuzzFibonacciFixRust />

ì´ì œ ë²¤ì¹˜ë§ˆí¬ë¥¼ ë‹¤ì‹œ ì‹¤í–‰í•˜ê³  ì–¼ë§ˆë‚˜ í–ˆëŠ”ì§€ í™•ì¸í•´ ë´…ì‹œë‹¤:

<BenchPlayGameFixOutput />

ì˜¤, ì™€ìš°! ìš°ë¦¬ì˜ `bench_play_game` ë²¤ì¹˜ë§ˆí¬ëŠ” ì›ë˜ì˜ FizzBuzzì—ì„œì²˜ëŸ¼ ë‹¤ì‹œ ë–¨ì–´ì¡Œë„¤ìš”.
ê·¸ ì ìˆ˜ê°€ ì •í™•íˆ ì–¼ë§ˆë‚˜ ëì—ˆëŠ”ì§€ ê¸°ì–µí•˜ê³  ì‹¶êµ°ìš”. ì´ì œ ì„¸ ì£¼ê°€ ì§€ë‚¬ë„¤ìš”.
ë‚´ í„°ë¯¸ë„ ê¸°ë¡ì€ ê·¸ë ‡ê²Œ ë©€ë¦¬ ëŒì•„ê°€ì§€ ì•Šì•„ìš”.
ê·¸ë¦¬ê³  IaiëŠ” ê°€ì¥ ìµœê·¼ì˜ ê²°ê³¼ì™€ë§Œ ë¹„êµí•©ë‹ˆë‹¤.
í•˜ì§€ë§Œ ê°€ê¹Œì›Œ ë³´ì´ë„¤ìš”!

`bench_play_game_100` ë²¤ì¹˜ë§ˆí¬ëŠ” ê±°ì˜ 10ë°° ë–¨ì–´ì¡Œê³ , `-87.22513%`.
ê·¸ë¦¬ê³  `bench_play_game_1_000_000` ë²¤ì¹˜ë§ˆí¬ëŠ” 10,000ë°° ì´ìƒ ë–¨ì–´ì¡ŒìŠµë‹ˆë‹¤! `155,109,206 ì¶”ì • ì‚¬ì´í´`ì—ì„œ `950` ì¶”ì • ì‚¬ì´í´ë¡œ!
`-99.99939%`!

> ğŸ° í—¤ì´, ì ì–´ë„ ì´ ì„±ëŠ¥ ë²„ê·¸ë¥¼ í”„ë¡œë•ì…˜ì— ë“¤ì–´ê°€ê¸° ì „ì— ì¡ì•˜ë‹¤... ì•„, ë§ë‹¤. ì‹¤ìˆ˜í–ˆë‹¤...

<CatchInCi />

<CatchInCiOutput />

<CatchInCiPlot />

<CatchInCiPlotRustBench title="Rustë¥¼ Iaië¡œ ë²¤ì¹˜ë§ˆí‚¹í•˜ëŠ” ë°©ë²•" />

<BencherFooter />
