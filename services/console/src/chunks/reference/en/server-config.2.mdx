## `logging`

This section is based on the [Dropshot logging configuration](https://github.com/oxidecomputer/dropshot/tree/v0.9.0#logging).

|     Name      |      Example      |      Default      |         Required          |                                                                                                                                                                                                         Description                                                                                                                                                                                                          |
| :-----------: | :---------------: | :---------------: | :-----------------------: | :--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------: |
|     name      |   "Bencher API"   |   "Bencher API"   |            Yes            |                                                                                                                                                                                              Specifies the name of the logger.                                                                                                                                                                                               |
|   log.mode    | "stderr_terminal" | "stderr_terminal" |            Yes            | Controls where server logging will go. Valid modes are "stderr-terminal" and "file". If the mode is `"stderr-terminal", human-readable output, with colors and other terminal formatting if possible, will be sent to stderr. If the mode is "file", Bunyan-format output will be sent to the filesystem path given by log.path. See also log.if_exists, which controls the behavior if the destination path already exists. |
|   log.level   |      "info"       |      "info"       |            Yes            |                                                                    Specifies what severity of log messages should be included in the log. Valid values include "trace", "debug", "info", "warn", "error", and "critical", which are increasing order of severity. Log messages at the specified level and more severe levels will be included in the log.                                                                    |
|   log.path    |        ---        |        ---        | Only if log.mode = "file" |                                                                                                                                                              If log.mode is "file", this property determines the path to the log file. See also log.if_exists.                                                                                                                                                               |
| log.if_exists |        ---        |        ---        | Only if log.mode = "file" |                                    If log.mode is "file", this property specifies what to do if the destination log file already exists. Valid values include "append" (which appends to the existing file), "truncate" (which truncates the existing file and then uses it as though it had just been created), and "fail" (which causes the server to exit immediately with an error).                                     |


## `database`

|             Name             |                                    Example                                    |      Default      |               Required                |                                                                                           Description                                                                                            |
| :--------------------------: | :---------------------------------------------------------------------------: | :---------------: | :-----------------------------------: | :----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------: |
|             file             |                             "path/to/database.db"                             | "data/bencher.db" |                  Yes                  |                                                                             Controls where server database will go.                                                                              |
|      data_store.service      |                                   "aws_s3"                                    |        ---        |                  No                   |                                                               Specifies the remote data store service. Valid values are "aws_s3".                                                                |
|   data_store.access_key_id   |                             "ABC123DoRemMiABC123"                             |        ---        | Only if data_store.service = "aws_s3" |                                          If data_store.service = "aws_s3", this property specifies the AWS access key ID. See also data_store.service.                                           |
| data_store.secret_access_key |                 "AA3Chr-JSF5sUQqKwayx-FvCfZKsMev-5BqPpcFC3m7"                 |        ---        | Only if data_store.service = "aws_s3" |         If data_store.service = "aws_s3", this property specifies the AWS secret access key. See also data_store.service. Whenever logged, it will appear obfuscated as `************`.          |
|   data_store.access_point    | "arn:aws:s3:some-region-1:123456789:accesspoint/my-bucket/path/to/backup/dir" |        ---        | Only if data_store.service = "aws_s3" | If data_store.service = "aws_s3", this property specifies the [AWS S3 accesspoint](https://docs.aws.amazon.com/AmazonS3/latest/userguide/using-access-points.html). See also data_store.service. |

## `smtp`

This section specifies an [SMTP](https://en.wikipedia.org/wiki/Simple_Mail_Transfer_Protocol) service configuration.
The entire section is optional.
If not specified, all messages will be sent to `logging` instead.

|    Name    |          Example           | Default | Required |                                                      Description                                                      |
| :--------: | :------------------------: | :-----: | :------: | :-------------------------------------------------------------------------------------------------------------------: |
|  hostname  |      "mailbonobo.com"      |   ---   |   Yes    |                                             Specifies the SMTP hostname.                                              |
|    port    |            587             |   587   |    No    |                                               Specifies the SMTP port.                                                |
|  starttls  |            true            |  true   |    No    |                           Controls whether the SMTP connection uses the STARTTLS protocol.                            |
|  username  |         "bencher"          |   ---   |   Yes    |                                       Specifies the username at the SMTP host.                                        |
|   secret   | "WM3F2u9cqSNdBPLfy9sJ5kk9" |   ---   |   Yes    | Specifies the secret for the username at the SMTP host. Whenever logged, it will appear obfuscated as `************`. |
| from_name  |         "Bencher"          |   ---   |   Yes    |                        Specifies the name that will appear in the from section of all emails.                         |
| from_email | "info@bencher.example.com" |   ---   |   Yes    |                        Spefifies the email that will appear in the from section of all emails.                        |
