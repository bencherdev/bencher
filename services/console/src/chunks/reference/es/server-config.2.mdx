## `logging`

Esta sección se basa en la [configuración de registro de Dropshot](https://github.com/oxidecomputer/dropshot/tree/v0.9.0#logging).

|     Nombre    |      Ejemplo     |      Default      |       Requerido      | Descripción |
| :-------------: | :-------------: | :-------------: | :-------------: | :-------------: |
|     name      | "Bencher API" | "Bencher API" | Sí | Especifica el nombre del registro (logger). |
|   log.mode  | "stderr_terminal" | "stderr_terminal" | Sí | Controla dónde se enviará el registro del servidor. Las modo válidos son "stderr_terminal" y "file". Si el modo es "stderr_terminal", los resultados legibles por humanos, con colores y otro formateo del terminal si es posible, se enviarán a stderr. Si el modo es "file", la salida con formato Bunyan se enviará al ruta del sistema de archivos que indique log.path. Ver también log.if_exists, que controla el comportamiento si la ruta de destino ya existe. |
|   log.level | "info" | "info" | Sí | Especifica qué gravedad de mensajes de registro se deben incluir en el registro. Los valores válidos incluyen "trace", "debug", "info", "warn", "error" y "critical", que están en orden creciente de gravedad. Los mensajes de registro en el nivel especificado y en niveles más severos se incluirán en el registro. |
|   log.path  | --- | --- | Solo si log.mode = "file" | Si log.mode es "file", esta propiedad determina el camino al archivo de registro. Ver también log.if_exists. |
| log.if_exists | --- | --- | Solo si log.mode = "file" | Si log.mode es "file", esta propiedad especifica qué hacer si el archivo de registro destino ya existe. Los valores válidos incluyen "append" (que agrega al archivo existente), "truncate" (que trunca el archivo existente y luego lo usa como si acabara de ser creado), y "fail" (que hace que el servidor se cierre inmediatamente con un error). |

## `database`

|             Nombre            |                            Ejemplo                           |      Default      |          Requerido           | Descripción |
| :-------------: | :-------------: | :-------------: | :-------------: | :-------------: |
| file | "ruta/hacia/database.db" | "data/bencher.db" | Sí | Controla hacia donde irá la base de datos del servidor. |
| data_store.service | "aws_s3" | --- | No | Especifica el servicio de almacenamiento de datos remoto. Los valores válidos son "aws_s3". |
| data_store.access_key_id | "ABC123DoRemMiABC123" | --- | Solo si data_store.service = "aws_s3" | Si data_store.service = "aws_s3", esta propiedad especifica el ID de clave de acceso de AWS. Ver también data_store.service. |
| data_store.secret_access_key | "AA3Chr-JSF5sUQqKwayx-FvCfZKsMev-5BqPpcFC3m7" | --- | Solo si data_store.service = "aws_s3" | Si data_store.service = "aws_s3", esta propiedad especifica la clave de acceso secreta de AWS. Ver también data_store.service. Cuando se registra, aparecerá ofuscado como `************`. |
| data_store.access_point | "arn:aws:s3:alguna-region-1:123456789:accesspoint/mi-bucket/ruta/hacia/directorio/de/respaldo" | --- | Solo si data_store.service = "aws_s3" | Si data_store.service = "aws_s3", esta propiedad especifica el [punto de acceso S3 de AWS](https://docs.aws.amazon.com/AmazonS3/latest/userguide/using-access-points.html). Ver también data_store.service. |

## `smtp`

Esta sección especifica una configuración del servicio [SMTP](https://en.wikipedia.org/wiki/Simple_Mail_Transfer_Protocol).
La sección completa es opcional.
Si no se especifica, todos los mensajes se enviarán a `logging` en su lugar.

|    Nombre   |         Ejemplo          | Default | Requerido | Descripción |
| :--------: | :-------------: | :-----: | :------: | :-------------: |
| hostname | "mailbonobo.com" | --- | Sí | Especifica el hostname de SMTP. |
| port | 587 | 587 | No | Especifica el puerto de SMTP. |
| starttls | true | true | No | Controla si la conexión SMTP utiliza el protocolo STARTTLS. |
| username | "bencher" | --- | Sí | Especifica el nombre de usuario en el host SMTP. |
| secret | "WM3F2u9cqSNdBPLfy9sJ5kk9" | --- | Sí | Especifica el secreto para el nombre de usuario en el host SMTP. Cuando se registra, aparecerá ofuscado como `************`. |
| from_name | "Bencher" | --- | Sí | Especifica el nombre que aparecerá en la sección "from" de todos los correos electrónicos. |
| from_email | "info@bencher.example.com" | --- | Sí | Especifica el correo electrónico que aparecerá en la sección "from" de todos los correos electrónicos. |

## `apm`

El Monitoreo del Rendimiento de Aplicaciones (APM) es una característica que permite que el Servidor API de Bencher envíe telemetría a un servicio de terceros.

|    Nombre   |                              Ejemplo                              | Default | Requerido | Descripción |
| :--------: | :-------------: | :-----: | :------: | :-------------: |
| sentry.dsn | "https://0123abc1023abc@987efg987efg.ingest.sentry.io/0123456789" | --- | No | Nombre de Fuente de Datos (Data Source Name) de Sentry. También se puede establecer con la variable de ambiente `SENTRY_DSN`. |
