import TestbedCreate from "../testbed-create.mdx";
import ThresholdCreateStatistical from "../threshold-create-statistical.mdx";
import RunMainStatistical from "../run-main-statistical.mdx";
import RunFeatureStatistical from "../run-feature-statistical.mdx";

## ç»Ÿè®¡è¿ç»­åŸºå‡†æµ‹è¯•

æ¥ç€æˆ‘ä»¬åœ¨[å¿«é€Ÿå¼€å§‹][quick start]å’Œ[Dockerè‡ªæ‰˜ç®¡][docker self-hosted]æ•™ç¨‹ä¸­ç•™ä¸‹çš„å†…å®¹ï¼Œ
è®©æˆ‘ä»¬å°†ç»Ÿè®¡[è¿ç»­åŸºå‡†æµ‹è¯•][continuous benchmarking]æ·»åŠ åˆ°æˆ‘ä»¬çš„`Save Walter White`é¡¹ç›®ä¸­ã€‚

> ğŸ° è¯·ç¡®ä¿æ‚¨å·²
> [åˆ›å»ºäº†APIä»¤ç‰Œå¹¶å°†å…¶è®¾ç½®ä¸º`BENCHER_API_TOKEN`ç¯å¢ƒå˜é‡][create an api token]
> ç„¶åå†ç»§ç»­ï¼

é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦åˆ›å»ºä¸€ä¸ªæ–°çš„æµ‹è¯•å°æ¥è¡¨ç¤ºæˆ‘ä»¬çš„CIè¿è¡Œå™¨ï¼Œæ°å½“åœ°å‘½åä¸º`ci-runner`ã€‚

<TestbedCreate />

1. ä½¿ç”¨`bencher testbed create` CLIå­å‘½ä»¤ã€‚
   è¯¦è§[`testbed create`æ–‡æ¡£][testbed create]ã€‚
   (ä¾‹å¦‚ï¼š`bencher testbed create`)
2. è®¾ç½®`--name`é€‰é¡¹ä¸ºæ‰€éœ€çš„æµ‹è¯•å°åç§°ã€‚
   (ä¾‹å¦‚ï¼š `--name ci-runner`)
3. æŒ‡å®šé¡¹ç›®å‚æ•°ä¸º`Save Walter White`é¡¹ç›®çš„slugã€‚
   (ä¾‹å¦‚ï¼š `save-walter-white-1234abcd`)

æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬éœ€è¦ä¸ºæˆ‘ä»¬çš„`ci-runner`æµ‹è¯•å°åˆ›å»ºä¸€ä¸ªæ–°çš„[é˜ˆå€¼][thresholds]ï¼š

<ThresholdCreateStatistical />

1. ä½¿ç”¨`bencher threshold create` CLIå­å‘½ä»¤ã€‚
   è¯¦è§[`threshold create`æ–‡æ¡£][threshold create]ã€‚
   (ä¾‹å¦‚ï¼š`bencher threshold create`)
2. è®¾ç½®`--branch`é€‰é¡¹ä¸ºé»˜è®¤çš„`main`åˆ†æ”¯ã€‚
   (ä¾‹å¦‚ï¼š`--branch main`)
3. è®¾ç½®`--branch`é€‰é¡¹ä¸ºæ–°çš„`ci-runner`æµ‹è¯•å°ã€‚
   (ä¾‹å¦‚ï¼š`--testbed ci-runner`)
4. è®¾ç½®`--measure`é€‰é¡¹ä¸ºç”±`bencher mock`ç”Ÿæˆçš„å†…ç½®`Latency`åº¦é‡ã€‚
   è¯¦è§[åº¦é‡çš„å®šä¹‰][measure]ã€‚
   (ä¾‹å¦‚ï¼š`--measure Latency`)
5. è®¾ç½®`--test`é€‰é¡¹ä¸º`t-test`é˜ˆå€¼ã€‚
   è¯¦è§[é˜ˆå€¼ä¸è­¦æŠ¥][t-test]ã€‚
   (ä¾‹å¦‚ï¼š`--test t-test`)
6. è®¾ç½®`--upper-boundary`é€‰é¡¹ä¸º`0.95`çš„ä¸Šè¾¹ç•Œã€‚
   è¯¦è§[é˜ˆå€¼ä¸è­¦æŠ¥][t-test upper boundary]ã€‚
   (ä¾‹å¦‚ï¼š`--upper-boundary 0.95`)
7. æŒ‡å®šé¡¹ç›®å‚æ•°ä¸º`Save Walter White`é¡¹ç›®çš„slugã€‚
   (ä¾‹å¦‚ï¼š`save-walter-white-1234abcd`)

ç°åœ¨æˆ‘ä»¬å‡†å¤‡åœ¨CIä¸­è¿è¡Œæˆ‘ä»¬çš„åŸºå‡†æµ‹è¯•äº†ã€‚
ç”±äºæ¯ä¸ªCIç¯å¢ƒéƒ½æœ‰äº›ä¸åŒï¼Œ
ä»¥ä¸‹ç¤ºä¾‹æ›´å…·æœ‰è¯´æ˜æ€§è€Œéå®ç”¨æ€§ã€‚
æœ‰å…³æ›´å…·ä½“çš„ç¤ºä¾‹ï¼Œè¯¦è§[GitHub Actionsä¸­çš„è¿ç»­åŸºå‡†æµ‹è¯•][github actions]
å’Œ[GitLab CI/CDä¸­çš„è¿ç»­åŸºå‡†æµ‹è¯•][gitlab ci/cd]ã€‚

æˆ‘ä»¬éœ€è¦é€šè¿‡åœ¨CIä¸­åŸºå‡†æµ‹è¯•æ¯ä¸ªæ›´æ”¹æ¥ä¸ºæˆ‘ä»¬çš„`main`åˆ†æ”¯åˆ›å»ºå’Œç»´æŠ¤ä¸€ä¸ªå†å²åŸºçº¿ï¼š

<RunMainStatistical />

1. ä½¿ç”¨<code><a href="/zh/docs/explanation/bencher-run/">bencher run</a></code> CLIå­å‘½ä»¤
   æ¥è¿è¡Œæ‚¨çš„`feature-branch`åˆ†æ”¯åŸºå‡†æµ‹è¯•ã€‚
   è¯¦è§[`bencher run` CLIå­å‘½ä»¤][bencher run]ã€‚
   (ä¾‹å¦‚ï¼š`bencher run`)
2. è®¾ç½®`--project`é€‰é¡¹ä¸ºé¡¹ç›®slugã€‚
   è¯¦è§[`--project`æ–‡æ¡£][project option]ã€‚
   (ä¾‹å¦‚ï¼š`--project save-walter-white-1234abcd`)
3. è®¾ç½®`--branch`é€‰é¡¹ä¸ºé»˜è®¤çš„åˆ†æ”¯åç§°ã€‚
   è¯¦è§[åˆ†æ”¯é€‰æ‹©][branch selection branch]ã€‚
   (ä¾‹å¦‚ï¼š`--branch main`)
4. è®¾ç½®`--testbed`é€‰é¡¹ä¸ºæµ‹è¯•å°åç§°ã€‚
   è¯¦è§[`--testbed`æ–‡æ¡£][testbed option]ã€‚
   (ä¾‹å¦‚ï¼š`--testbed ci-runner`)
5. è®¾ç½®`--adapter`é€‰é¡¹ä¸ºæ‰€éœ€çš„åŸºå‡†æµ‹è¯•é©±åŠ¨é€‚é…å™¨ã€‚
   è¯¦è§[åŸºå‡†æµ‹è¯•é©±åŠ¨é€‚é…å™¨][adapters]ã€‚
   (ä¾‹å¦‚ï¼š`--adapter json`)
6. è®¾ç½®`--err`æ ‡å¿—ä»¥åœ¨ç”Ÿæˆè­¦æŠ¥æ—¶ä½¿å‘½ä»¤å¤±è´¥ã€‚
   è¯¦è§[é˜ˆå€¼ä¸è­¦æŠ¥][alerts]ã€‚
   (ä¾‹å¦‚ï¼š`--err`)
7. æŒ‡å®šåŸºå‡†æµ‹è¯•å‘½ä»¤å‚æ•°ã€‚
   è¯¦è§[åŸºå‡†æµ‹è¯•å‘½ä»¤][command argument]ã€‚
   (ä¾‹å¦‚ï¼š`bencher mock`)

æœ€åï¼Œæˆ‘ä»¬å‡†å¤‡åœ¨CIä¸­æ•æ‰æ€§èƒ½å›å½’ã€‚
è¿™æ˜¯æˆ‘ä»¬åœ¨CIä¸­è·Ÿè¸ªä¸€ä¸ªåä¸º`feature-branch`çš„æ–°åŠŸèƒ½åˆ†æ”¯æ€§èƒ½çš„æ–¹å¼ï¼š

<RunFeatureStatistical />

1. ä½¿ç”¨<code><a href="/zh/docs/explanation/bencher-run/">bencher run</a></code> CLIå­å‘½ä»¤
   æ¥è¿è¡Œæ‚¨çš„`feature-branch`åˆ†æ”¯åŸºå‡†æµ‹è¯•ã€‚
   è¯¦è§[`bencher run` CLIå­å‘½ä»¤][bencher run]ã€‚
   (ä¾‹å¦‚ï¼š`bencher run`)
2. è®¾ç½®`--project`é€‰é¡¹ä¸ºé¡¹ç›®slugã€‚
   è¯¦è§[`--project`æ–‡æ¡£][project option]ã€‚
   (ä¾‹å¦‚ï¼š`--project save-walter-white-1234abcd`)
3. è®¾ç½®`--branch`é€‰é¡¹ä¸ºåŠŸèƒ½åˆ†æ”¯åç§°ã€‚
   è¯¦è§[åˆ†æ”¯é€‰æ‹©][branch selection branch]ã€‚
   (ä¾‹å¦‚ï¼š`--branch feature-branch`)
4. è®¾ç½®`--branch-start-point`é€‰é¡¹ä¸ºåŠŸèƒ½åˆ†æ”¯çš„èµ·ç‚¹ã€‚
   è¯¦è§[åˆ†æ”¯é€‰æ‹©][branch selection start point]ã€‚
   (ä¾‹å¦‚ï¼š`--branch-start-point main`)
5. è®¾ç½®`--branch-start-point-hash`é€‰é¡¹ä¸ºåŠŸèƒ½åˆ†æ”¯èµ·ç‚¹çš„`git`å“ˆå¸Œã€‚
   è¯¦è§[åˆ†æ”¯é€‰æ‹©][branch selection start point hash]ã€‚
   (ä¾‹å¦‚ï¼š`--branch-start-point-hash 32ae...dd8b`)
6. è®¾ç½®`--branch-reset`æ ‡å¿—ä»¥å§‹ç»ˆå°†åˆ†æ”¯é‡ç½®ä¸ºèµ·ç‚¹ã€‚
   è¿™å°†é˜²æ­¢åŸºå‡†æµ‹è¯•æ•°æ®æ¼‚ç§»ã€‚
   è¯¦è§[åˆ†æ”¯é€‰æ‹©][branch selection branch reset]ã€‚
   (ä¾‹å¦‚ï¼š`--branch-reset`)
7. è®¾ç½®`--testbed`é€‰é¡¹ä¸ºæµ‹è¯•å°åç§°ã€‚
   è¯¦è§[`--testbed`æ–‡æ¡£][testbed option]ã€‚
   (ä¾‹å¦‚ï¼š`--testbed ci-runner`)
8. è®¾ç½®`--adapter`é€‰é¡¹ä¸ºæ‰€éœ€çš„åŸºå‡†æµ‹è¯•é©±åŠ¨é€‚é…å™¨ã€‚
   è¯¦è§[åŸºå‡†æµ‹è¯•é©±åŠ¨é€‚é…å™¨][adapters]ã€‚
   (ä¾‹å¦‚ï¼š`--adapter json`)
9. è®¾ç½®`--err`æ ‡å¿—ä»¥åœ¨ç”Ÿæˆè­¦æŠ¥æ—¶ä½¿å‘½ä»¤å¤±è´¥ã€‚
   è¯¦è§[é˜ˆå€¼ä¸è­¦æŠ¥][alerts]ã€‚
   (ä¾‹å¦‚ï¼š`--err`)
10. æŒ‡å®šåŸºå‡†æµ‹è¯•å‘½ä»¤å‚æ•°ã€‚
    è¯¦è§[åŸºå‡†æµ‹è¯•å‘½ä»¤][command argument]ã€‚
    (ä¾‹å¦‚ï¼š`bencher mock`)

ç¬¬ä¸€æ¬¡åœ¨CIä¸­è¿è¡Œæ­¤å‘½ä»¤æ—¶ï¼Œ
å®ƒå°†åˆ›å»º`feature-branch`åˆ†æ”¯ï¼Œå› ä¸ºå®ƒå°šä¸å­˜åœ¨ã€‚
æ–°çš„`feature-branch`å°†ä½¿ç”¨`main`åˆ†æ”¯
åœ¨å“ˆå¸Œå€¼`32aea434d751648726097ed3ac760b57107edd8b`ä½œä¸ºå…¶èµ·ç‚¹ã€‚
è¿™æ„å‘³ç€`feature-branch`å°†æ‹¥æœ‰æ‰€æœ‰æ•°æ®å’Œ[é˜ˆå€¼][thresholds]çš„å‰¯æœ¬
ä»`main`åˆ†æ”¯å¼€å§‹è¿›è¡Œæ¯”è¾ƒ`bencher mock`çš„ç»“æœï¼Œ
å¯¹äºç¬¬ä¸€æ¬¡å’Œæ‰€æœ‰åç»­è¿è¡Œã€‚

[quick start]: /zh/docs/tutorial/quick-start/
[docker self-hosted]: /zh/docs/tutorial/docker/
[continuous benchmarking]: /zh/docs/explanation/continuous-benchmarking/
[create an api token]: /zh/docs/tutorial/quick-start/#create-an-api-token
[testbed create]: /zh/docs/api/projects/testbeds/#post-v0projectsprojecttestbeds
[thresholds]: /zh/docs/explanation/thresholds/
[threshold create]: /zh/docs/api/projects/thresholds/#post-v0projectsprojectthresholds
[measure]: /zh/docs/explanation/benchmarking/#measures
[t-test]: /zh/docs/explanation/thresholds/#t-test-thresholds
[t-test upper boundary]: /zh/docs/explanation/thresholds/#t-test-threshold-upper-boundary
[github actions]: /zh/docs/how-to/github-actions/
[gitlab ci/cd]: /zh/docs/how-to/gitlab-ci-cd/
[bencher run]: /zh/docs/explanation/bencher-run/
[project option]: /zh/docs/explanation/bencher-run/#--project-project
[branch selection branch]: /zh/docs/explanation/branch-selection/#--branch-branch
[testbed option]: /zh/docs/explanation/bencher-run/#--testbed-testbed
[adapters]: /zh/docs/explanation/adapters/
[alerts]: /zh/docs/explanation/thresholds/#alerts
[command argument]: /zh/docs/explanation/bencher-run/#benchmark-command
[branch selection start point]: /zh/docs/explanation/branch-selection/#--branch-start-point-branch
[branch selection start point hash]: /zh/docs/explanation/branch-selection/#--branch-start-point-hash-hash
[branch selection branch reset]: /zh/docs/explanation/branch-selection/#--branch-reset