---
title: "GitLab CI/CD"
description: "–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Bencher –≤ GitLab CI/CD –¥–ª—è –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω–æ–≥–æ –±–µ–Ω—á–º–∞—Ä–∫–∏–Ω–≥–∞ –ø—Ä–∏ merge requests"
heading: "–ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Bencher –≤ GitLab CI/CD"
sortOrder: 4
---

import { BENCHER_VERSION } from "../../../util/ext";

<pre>
  <code>
    {`benchmark_with_bencher:
    image: rust:bullseye
    variables:
      BENCHER_PROJECT: save-walter-white
      BENCHER_API_TOKEN: \${{ secrets.BENCHER_API_TOKEN }}
      BENCHER_ADAPTER: json
      BENCHER_TESTBED: bullseye
      BENCHER_VERSION: ${BENCHER_VERSION}
    before_script:
      - wget https://github.com/bencherdev/bencher/releases/download/v\${BENCHER_VERSION}/bencher_\${BENCHER_VERSION}_amd64.deb
      - dpkg -i bencher_\${BENCHER_VERSION}_amd64.deb
    script:
      - |
        bencher run \\
        --if-branch "$CI_COMMIT_REF_NAME" \\
        --else-if-branch "$CI_MERGE_REQUEST_TARGET_BRANCH_NAME" \\
        --else-if-branch main \\
        --err \\
        "bencher mock"`}
  </code>
</pre>

1. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª GitLab CI/CD (–Ω–∞–ø—Ä–∏–º–µ—Ä, `.gitlab-ci.yml`)
1. –°–æ–∑–¥–∞–π—Ç–µ `job` –≤ GitLab CI/CD (–Ω–∞–ø—Ä–∏–º–µ—Ä, `benchmark_with_bencher`)
1. –í—ã–±–µ—Ä–∏—Ç–µ Docker-–æ–±—Ä–∞–∑ –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤–∞—à–µ–≥–æ –∑–∞–¥–∞–Ω–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, `image: rust:bullseye`)
1. –ü—Ä–æ–µ–∫—Ç –¥–æ–ª–∂–µ–Ω —É–∂–µ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Ñ–ª–∞–≥ `--project` –∏–ª–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è `BENCHER_PROJECT` –Ω–∞ —Å–ª–∞–≥ –∏–ª–∏ UUID –ø—Ä–æ–µ–∫—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `BENCHER_PROJECT: save-walter-white`)
1. –î–æ–±–∞–≤—å—Ç–µ `BENCHER_API_TOKEN` –≤ —Å–µ–∫—Ä–µ—Ç—ã CI/CD –≤–∞—à–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞, –≤ —Ä–∞–∑–¥–µ–ª–µ `–ù–∞—Å—Ç—Ä–æ–π–∫–∏ -> CI / CD -> –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ -> –î–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é`
1. API-—Ç–æ–∫–µ–Ω –¥–æ–ª–∂–µ–Ω —É–∂–µ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Ñ–ª–∞–≥ `--token` –∏–ª–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è `BENCHER_API_TOKEN` –Ω–∞ API-—Ç–æ–∫–µ–Ω (–Ω–∞–ø—Ä–∏–º–µ—Ä, `BENCHER_API_TOKEN: ${{ secrets.BENCHER_API_TOKEN }}`)
1. –ù–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ: —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Ñ–ª–∞–≥ `--adapter` –∏–ª–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è `BENCHER_ADAPTER` –Ω–∞ –∂–µ–ª–∞–µ–º–æ–µ –∏–º—è –∞–¥–∞–ø—Ç–µ—Ä–∞. –ï—Å–ª–∏ –≤—ã –µ–≥–æ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ, –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω –∞–¥–∞–ø—Ç–µ—Ä `magic`. –°–º. [–∞–¥–∞–ø—Ç–µ—Ä—ã –¥–ª—è –±–µ–Ω—á–º–∞—Ä–∫–∏–Ω–≥–∞](/ru/docs/explanation/adapters/) –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ –æ–±–∑–æ—Ä–∞. (–Ω–∞–ø—Ä–∏–º–µ—Ä, `BENCHER_ADAPTER: json`)
1. –ù–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ: —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Ñ–ª–∞–≥ `--testbed` –∏–ª–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è `BENCHER_TESTBED` –Ω–∞ —Å–ª–∞–≥ –∏–ª–∏ UUID testbed. Testbed **–¥–æ–ª–∂–µ–Ω** —É–∂–µ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å. –ï—Å–ª–∏ —ç—Ç–æ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ, –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è `localhost` Testbed (–Ω–∞–ø—Ä–∏–º–µ—Ä, `BENCHER_TESTBED: bullseye`)
1. –ù–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ: —Å–æ–∑–¥–∞–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è, —á—Ç–æ–±—ã –ª–µ–≥—á–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –∏—Å–ø–æ–ª—å–∑—É–µ–º—É—é –≤–µ—Ä—Å–∏—é CLI (–Ω–∞–ø—Ä–∏–º–µ—Ä, <code>{`BENCHER_VERSION: ${BENCHER_VERSION}`}</code>)
1. –°–∫–∞—á–∞–π—Ç–µ –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ CLI Bencher –∏–∑ —Ñ–∞–π–ª–∞ `.deb`.
1. [–û—Ç—Å–ª–µ–∂–∏–≤–∞–π—Ç–µ —Å–≤–æ–∏ –±–µ–Ω—á–º–∞—Ä–∫–∏](/ru/docs/how-to/track-benchmarks/) —Å –ø–æ–º–æ—â—å—é –ø–æ–¥–∫–æ–º–∞–Ω–¥—ã CLI <code><a href="/ru/docs/explanation/bencher-run/">bencher run</a></code>:
    1. –°—É—â–µ—Å—Ç–≤—É–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–ø–æ—Å–æ–±–æ–≤ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤–µ—Ç–∫—É –ø—Ä–æ–µ–∫—Ç–∞. –°–º. [–≤—ã–±–æ—Ä –≤–µ—Ç–∫–∏](/ru/docs/explanation/branch-selection/) –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ –æ–±–∑–æ—Ä–∞. –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç [–ø—Ä–µ–¥–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ GitLab CI/CD](https://docs.gitlab.com/ee/ci/variables/predefined_variables.html) –∏ –ø—ã—Ç–∞–µ—Ç—Å—è:
        1. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–µ–∫—É—â—É—é –≤–µ—Ç–∫—É, –µ—Å–ª–∏ –æ–Ω–∞ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç. (–Ω–∞–ø—Ä–∏–º–µ—Ä, `--if-branch "$CI_COMMIT_REF_NAME"`)
        1. –°–æ–∑–¥–∞—Ç—å –∫–æ–ø–∏—é –¥–∞–Ω–Ω—ã—Ö –∏ –ø–æ—Ä–æ–≥–æ–≤–æ–π –≤–µ—Ç–∫–∏ –¥–ª—è MR, –µ—Å–ª–∏ –æ–Ω–∞ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç. (–Ω–∞–ø—Ä–∏–º–µ—Ä, `--else-if-branch  "$CI_MERGE_REQUEST_TARGET_BRANCH_NAME"`)
        1. –í –ø—Ä–æ—Ç–∏–≤–Ω–æ–º —Å–ª—É—á–∞–µ —Å–æ–∑–¥–∞—Ç—å –∫–æ–ø–∏—é –¥–∞–Ω–Ω—ã—Ö –∏ –ø–æ—Ä–æ–≥–æ–≤ –≥–ª–∞–≤–Ω–æ–π –≤–µ—Ç–∫–∏. (–Ω–∞–ø—Ä–∏–º–µ—Ä, `--else-if-branch main`)
    1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –æ—à–∏–±–∫–∏, –µ—Å–ª–∏ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–æ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ. –î–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –¥–æ–ª–∂–µ–Ω —É–∂–µ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å [–ü–æ—Ä–æ–≥](/ru/docs/explanation/thresholds/). (–Ω–∞–ø—Ä–∏–º–µ—Ä, `--err`)
    1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–≤–æ–∏ –±–µ–Ω—á–º–∞—Ä–∫–∏ –∏ —Å–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ –æ—Ç—á–µ—Ç –∏–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤. (–Ω–∞–ø—Ä–∏–º–µ—Ä, `"bencher mock"`)

<br/>
<br/>

> üê∞ –ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º! –í—ã –Ω–∞—É—á–∏–ª–∏—Å—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Bencher –≤ GitLab CI/CD! üéâ

<br/>

<h2><a href="/ru/docs/explanation/benchmarking/">–ü—Ä–æ–¥–æ–ª–∂–∞–π—Ç–µ: –û–±–∑–æ—Ä –±–µ–Ω—á–º–∞—Ä–∫–∏–Ω–≥–∞ ‚û°</a></h2>