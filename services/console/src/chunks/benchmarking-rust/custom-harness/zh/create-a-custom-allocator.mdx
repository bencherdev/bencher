import PlayGameAlloc from "../play-game-rs-alloc.mdx";

### åˆ›å»ºè‡ªå®šä¹‰åˆ†é…å™¨

ç”±äºæˆ‘ä»¬è‡ªå®šä¹‰çš„åŸºå‡†æµ‹è¯•å·¥å…·å°†æµ‹é‡å †åˆ†é…ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦ä½¿ç”¨è‡ªå®šä¹‰å †åˆ†é…å™¨ã€‚Rust å…è®¸é€šè¿‡ä½¿ç”¨ [ `#[global_allocator]` å±æ€§][rust global allocator] é…ç½®è‡ªå®šä¹‰çš„å…¨å±€å †åˆ†é…å™¨ã€‚åœ¨ `benches/play_game.rs` çš„é¡¶éƒ¨æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š

<PlayGameAlloc />

è¿™å‘Šè¯‰ Rust ä½¿ç”¨ `dhat::Alloc` ä½œä¸ºæˆ‘ä»¬çš„å…¨å±€å †åˆ†é…å™¨ã€‚

> ğŸ° ä½ ä¸€æ¬¡åªèƒ½è®¾ç½® **ä¸€ä¸ª** å…¨å±€å †åˆ†é…å™¨ã€‚
> å¦‚æœä½ æƒ³åœ¨å¤šä¸ªå…¨å±€åˆ†é…å™¨ä¹‹é—´åˆ‡æ¢ï¼Œå®ƒä»¬å¿…é¡»é€šè¿‡ [Rust åŠŸèƒ½][rust features] è¿›è¡Œæ¡ä»¶ç¼–è¯‘ç®¡ç†ã€‚

[rust global allocator]: https://doc.rust-lang.org/std/alloc/index.html#the-global_allocator-attribute
[rust features]: https://doc.rust-lang.org/cargo/reference/features.html