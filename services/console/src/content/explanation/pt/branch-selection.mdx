---
title: "Sele√ß√£o de Branches"
description: "Vis√£o geral das formas de selecionar uma branch git usando o subcomando CLI bencher run"
heading: "Sele√ß√£o de Branches com bencher run"
sortOrder: 3
---

Existem algumas maneiras de configurar a branch do projeto no subcomando CLI <code><a href="/docs/pt/explanation/bencher-run/">bencher run</a></code>.
Se nenhuma dessas op√ß√µes ou flags for usada, ent√£o `main` √© usado como a branch padr√£o.

<br />

### `--branch`

<br />

A maneira mais simples √© definir a op√ß√£o `--branch` ou a vari√°vel de ambiente `BENCHER_BRANCH` para o slug ou UUID de uma branch j√° existente.
Se ambos estiverem definidos, a op√ß√£o `--branch` tem preced√™ncia sobre a vari√°vel de ambiente `BENCHER_BRANCH`.

No entanto, se ambos estiverem faltando ou o valor fornecido for inv√°lido, ent√£o o comando `bencher run` retornar√° um erro.
Isso n√£o √© o mais conveniente em ambientes CI/CD, onde novas branches surgem o tempo todo.
Em vez de usar `--branch` ou a vari√°vel de ambiente `BENCHER_BRANCH`, existe a op√ß√£o `--if-branch`.

<br />

### `--if-branch`

<br />

A op√ß√£o `--if-branch` espera um argumento com o _nome_ de uma branch e pesquisa para verificar se uma √∫nica branch com esse nome existe.
Se for encontrada exatamente uma branch, ent√£o `bencher run` prossegue usando aquela branch.
Caso contr√°rio, `bencher run` simplesmente registra e sai com sucesso.

Por exemplo, se `main` existir, ent√£o `--if-branch main` a encontraria. Ent√£o `bencher run` iria prosseguir usando `main`.

A op√ß√£o `--branch` entra em conflito com a op√ß√£o `--if-branch`, mas a vari√°vel de ambiente `BENCHER_BRANCH` tem preced√™ncia sobre a op√ß√£o `--if-branch`.

<br />

> üê∞ Nota: Sempre que estiver usando vari√°veis de ambiente, elas devem ser envoltas em aspas duplas (ou seja, `--if-branch "$MY_ENV_VAR"`).

<br />

### `--else-if-branch`

<br />

Muitas vezes, ao trabalhar em branches de recursos, seria √∫til ter dados hist√≥ricos da branch pai/base.
A√≠ entra a op√ß√£o `--else-if-branch`.
A op√ß√£o `--else-if-branch` espera outro argumento com o _nome_ de uma branch.
Se `--if-branch` falhar, ent√£o `--else-if-branch` pesquisa para verificar se uma √∫nica branch com esse nome existe.
Se for encontrada exatamente uma branch, ent√£o todos os dados e limites dessa branch de partida ser√£o copiados para uma nova branch criada com o nome dado a `--if-branch`.

Por exemplo, se `feature_branch` ainda n√£o existe, mas `main` existe e tem dados hist√≥ricos.
Ent√£o usando `--if-branch feature_branch --else-if-branch main`, seria criada uma nova branch chamada `feature_branch`,
e ela teria uma c√≥pia de todos os dados e limites de `main`.
Ent√£o `bencher run` iria prosseguir usando `feature_branch`.

Tamb√©m √© poss√≠vel usar m√∫ltiplas op√ß√µes `--else-if-branch`.
Por exemplo, se `mia_branch` n√£o existe, `--if-branch feature_branch --else-if-branch mia_branch --else-if-branch main`
funcionaria efetivamente da mesma forma que o exemplo anterior, copiando todos os dados e limites de `main` e prosseguindo.

Se a consulta `--if-branch` for bem-sucedida, ent√£o `--else-if-branch` nunca √© executado, e se ambas `--if-branch` e `--else-if-branch` falharem, `bencher run` simplesmente registra e sai com sucesso.

<br />

> üê∞ Nota: Sempre que estiver usando vari√°veis de ambiente, elas devem ser envoltas em aspas duplas (ou seja, `--else-if-branch "$MY_ENV_VAR"`).

<br />

### `--else-branch`

<br />

Para garantir em todos os casos que as m√©tricas de uma execu√ß√£o sejam armazenadas, h√° uma flag `--else-branch`.
A flag `--else-branch` n√£o requer argumentos.
Se `--if-branch` falhar, ent√£o `--else-branch` simplesmente cria uma nova branch com o nome dado a `--if-branch`.

Por exemplo, se `feature_branch` ainda n√£o existe.
Ent√£o usando `--if-branch feature_branch --else-branch`, seria criada uma nova branch chamada `feature_branch`,
e ela n√£o teria dados iniciais nem limites.
Ent√£o `bencher run` iria prosseguir usando `feature_branch`.

√â poss√≠vel encadear todas as tr√™s flags: `--if-branch`, `--else-if-branch` e `--else-branch`.
Por exemplo, `--if-branch feature_branch --else-if-branch main --else-branch`.

Se a consulta `--if-branch` for bem-sucedida, ent√£o `--else-branch` nunca √© executado, e da mesma forma, se `--if-else-branch` for bem-sucedida, ent√£o `--else-branch` nunca √© executado.
E espera-se que `--else-branch` sempre tenha sucesso e saia com sucesso.

<br />

### `--endif-branch`

<br />

A flag `--endif-branch` funciona como uma flag opcional noop para indicar o fim da declara√ß√£o `--if-branch`.

√â poss√≠vel encadear todas as quatro flags: `--if-branch`, `--else-if-branch`, `--else-branch` e `--endif-branch`.
Por exemplo, `--if-branch feature_branch --else-if-branch "$MY_ENV_VAR" --else-branch --endif-branch`.

<br />
<br />

> üê∞ Parab√©ns! Voc√™ aprendeu tudo sobre a sele√ß√£o de branches! üéâ

<br/>

<h2><a href="/docs/pt/explanation/adapters/">Continue: Adaptadores de Teste de Desempenho ‚û°</a></h2>
