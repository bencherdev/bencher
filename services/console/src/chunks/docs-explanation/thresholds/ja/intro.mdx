import ThresholdCode from "../threshold-code.mdx";

Thresholdsã¯ã€Bencherã‚’ä½¿ç”¨ã—ã¦ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã®é€€è¡Œã‚’æ¤œå‡ºã™ã‚‹æ–¹æ³•ã§ã™ã€‚Thresholdã¯ã€æ¬¡ã®ãƒ¦ãƒ‹ãƒ¼ã‚¯ãªçµ„ã¿åˆã‚ã›ã«å‰²ã‚Šå½“ã¦ã‚‰ã‚Œã¾ã™ï¼š[Branch][branch]ã€[Testbed][testbed]ã€ãŠã‚ˆã³[Measure][measure]ã€‚Thresholdã¯ç‰¹å®šã®[Test][tests]ã‚’ä½¿ç”¨ã—ã¦ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã®é€€è¡Œã‚’æ¤œå‡ºã—ã¾ã™ã€‚Testã¨ãã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®çµ„ã¿åˆã‚ã›ã¯Modelã¨å‘¼ã°ã‚Œã¾ã™ã€‚Modelã¯ã€Lower Boundaryã€Upper Boundaryã€ã¾ãŸã¯ãã®ä¸¡æ–¹ã‚’æŒã£ã¦ã„ãªã‘ã‚Œã°ãªã‚Šã¾ã›ã‚“ã€‚

- Lower Boundary
  - Lower Boundaryã¯ã€ã‚ˆã‚Šå°ã•ã„å€¤ãŒãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã®é€€è¡Œã‚’ç¤ºã™å ´åˆã€ä¾‹ãˆã°Throughput Measureã®å ´åˆã«ä½¿ç”¨ã•ã‚Œã¾ã™ã€‚
- Upper Boundary
  - Upper Boundaryã¯ã€ã‚ˆã‚Šå¤§ãã„å€¤ãŒãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã®é€€è¡Œã‚’ç¤ºã™å ´åˆã€ä¾‹ãˆã°Latency Measureã®å ´åˆã«ä½¿ç”¨ã•ã‚Œã¾ã™ã€‚

å„Boundaryã¯Boundary Limitã‚’è¨ˆç®—ã™ã‚‹ãŸã‚ã«ä½¿ç”¨ã•ã‚Œã¾ã™ã€‚ãã®å¾Œã€ã™ã¹ã¦ã®æ–°ã—ã„[Metric][metric]ã¯å„Boundary Limitã«å¯¾ã—ã¦ãƒã‚§ãƒƒã‚¯ã•ã‚Œã¾ã™ã€‚æ–°ã—ã„MetricãŒLower Boundary Limitã‚’ä¸‹å›ã£ãŸã‚ŠUpper Boundary Limitã‚’ä¸Šå›ã£ãŸã‚Šã™ã‚‹ã¨ã€AlertãŒç”Ÿæˆã•ã‚Œã¾ã™ã€‚

[Continuous Benchmarking]ã€ã™ãªã‚ã¡CIã§ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯ã‚’è¡Œã†éš›ã«ã¯Thresholdsã‚’ä½œæˆã—ãŸã„ã§ã—ã‚‡ã†ã€‚<code><a href="/ja/docs/explanation/bencher-run/">bencher run</a></code> CLIã‚µãƒ–ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ç”¨ã™ã‚‹ã¨ã€[the `--branch` option][branch option]ã§Branchã‚’ã€[the `--testbed` option][testbed option]ã§Testbedã‚’æ—¢ã«æŒ‡å®šã—ã¾ã™ã®ã§ã€æŒ‡å®šã™ã‚‹å¿…è¦ãŒã‚ã‚‹å”¯ä¸€ã®æ¬¡å…ƒã¯Measureã§ã‚ã‚Šã€`--threshold-measure`ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚ãã®Measureã«ä½¿ç”¨ã™ã‚‹Testã‚’`--threshold-test`ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§æŒ‡å®šã§ãã¾ã™ã€‚`--threshold-min-sample-size`ã€`--threshold-max-sample-size`ã€ãŠã‚ˆã³`--threshold-window`ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’ä½¿ç”¨ã—ã¦ã€Testã§ä½¿ç”¨ã•ã‚Œã‚‹ãƒ‡ãƒ¼ã‚¿ã‚’åˆ¶å¾¡ã§ãã¾ã™ã€‚æœ€å¾Œã«ã€`--threshold-lower-boundary`ã¨`--threshold-upper-boundary`ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’ä½¿ç”¨ã—ã¦ã€Lower Boundaryã¨Upper Boundaryã‚’è¨­å®šã§ãã¾ã™ã€‚æŒ‡å®šã•ã‚Œã¦ã„ãªã„ã™ã¹ã¦ã®Modelã‚’å‰Šé™¤ã—ãŸã„å ´åˆã¯ã€`--thresholds-reset`ãƒ•ãƒ©ã‚°ã§ãã‚Œã‚’è¡Œã†ã“ã¨ãŒã§ãã¾ã™ã€‚

- ThresholdãŒå­˜åœ¨ã—ãªã„å ´åˆã¯ã€è‡ªå‹•çš„ã«ä½œæˆã•ã‚Œã¾ã™ã€‚
- ThresholdãŒå­˜åœ¨ã—ã€æŒ‡å®šã•ã‚ŒãŸModelãŒåŒã˜å ´åˆã€Modelã¯ç„¡è¦–ã•ã‚Œã¾ã™ã€‚
- ThresholdãŒå­˜åœ¨ã—ã€æŒ‡å®šã•ã‚ŒãŸModelãŒç•°ãªã‚‹å ´åˆã€æ–°ã—ã„ModelãŒThresholdã®ãŸã‚ã«ä½œæˆã•ã‚Œã¾ã™ã€‚
- æ—¢å­˜ã®ThresholdãŒã‚ã‚Šã€ãƒªã‚»ãƒƒãƒˆã•ã‚Œã‚‹å ´åˆã€ç¾åœ¨ã®Modelã¯Thresholdã‹ã‚‰å‰Šé™¤ã•ã‚Œã¾ã™ã€‚

ä¾‹ãˆã°ã€[a Student's t-test Test][t-test]ã‚’ä½¿ç”¨ã—ã¦ã€`64`ã®æœ€å¤§ã‚µãƒ³ãƒ—ãƒ«ã‚µã‚¤ã‚ºã¨`0.99`ã®Upper Boundaryã§ã€Latency Measureã«ã®ã¿Thresholdã‚’ä½¿ç”¨ã™ã‚‹å ´åˆã€ä»¥ä¸‹ã®ã‚ˆã†ã«è¨˜è¿°ã§ãã¾ã™:

<ThresholdCode />

> ğŸ° ãƒ•ã‚£ãƒ¼ãƒãƒ£ãƒ¼ãƒ–ãƒ©ãƒ³ãƒã§ä½œæ¥­ã™ã‚‹éš›ã¯ã€ãƒ™ãƒ¼ã‚¹ã§ã‚ã‚‹[Start Point][start point] Branchã‹ã‚‰æ—¢å­˜ã®Thresholdsã‚’ã‚³ãƒ”ãƒ¼ã—ãŸã„å ´åˆãŒã‚ã‚Šã¾ã™ã€‚ã“ã‚Œã¯ã€[the `--start-point-clone-thresholds` flag][start point clone thresholds flag]ã‚’ä½¿ç”¨ã—ã¦å¯èƒ½ã§ã™ã€‚ãŸã ã—ã€`--thresholds-reset`ãƒ•ãƒ©ã‚°ã¯ã€æ˜ç¤ºçš„ã«æŒ‡å®šã•ã‚Œã¦ã„ãªã„ã™ã¹ã¦ã®ã‚¯ãƒ­ãƒ¼ãƒ³ã•ã‚ŒãŸThresholdsã‚‚å‰Šé™¤ã—ã¾ã™ã€‚

[branch]: /ja/docs/explanation/benchmarking/#branch
[testbed]: /ja/docs/explanation/benchmarking/#testbed
[measure]: /ja/docs/explanation/benchmarking/#measure
[metric]: /ja/docs/explanation/benchmarking/#metric
[continuous benchmarking]: /ja/docs/explanation/continuous-benchmarking/
[branch option]: /ja/docs/explanation/branch-selection/#--branch-branch
[testbed option]: /ja/docs/explanation/bencher-run/#--testbed-testbed
[start point]: /ja/docs/explanation/benchmarking/#start-point
[start point clone thresholds flag]: /ja/docs/explanation/branch-selection/#--start-point-clone-thresholds

[tests]: #--threshold-test-test
[t-test]: #t-test