---
import { getCollection } from "astro:content";

const tutorial = await getCollection("tutorial");
tutorial.sort((a, b) => a.data.sortOrder - b.data.sortOrder);

const how_to = await getCollection("how_to");
how_to.sort((a, b) => a.data.sortOrder - b.data.sortOrder);

const explanation = await getCollection("explanation");
explanation.sort((a, b) => a.data.sortOrder - b.data.sortOrder);

const reference = await getCollection("reference");
reference.sort((a, b) => a.data.sortOrder - b.data.sortOrder);
---

<aside class="menu is-sticky">
    <p class="menu-label">Tutorial</p>
    <ul class="menu-list">
        {
            tutorial.map((page) => (
              <li>
                <a href={`/docs/tutorial/${page.slug}`}>{page.data.title}</a>
              </li>
            ))
          }
    </ul>
    <p class="menu-label">How To</p>
    <ul class="menu-list">
        {
            how_to.map((page) => (
              <li>
                <a href={`/docs/how-to/${page.slug}`}>{page.data.title}</a>
              </li>
            ))
          }
    </ul>
    <p class="menu-label">Explanation</p>
    <ul class="menu-list">
        {
            explanation.map((page) => (
              <li>
                <a href={`/docs/explanation/${page.slug}`}>{page.data.title}</a>
              </li>
            ))
          }
    </ul>
    <p class="menu-label">Reference</p>
    <ul class="menu-list">
        {
            reference.map((page) => (
              <li>
                <a href={`/docs/reference/${page.slug}`}>{page.data.title}</a>
              </li>
            ))
          }
    </ul>
</aside>
