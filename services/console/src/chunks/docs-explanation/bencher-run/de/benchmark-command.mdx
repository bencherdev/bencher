import ShellForm from "../shell-form.mdx";
import ExecForm from "../exec-form.mdx";

## Benchmark-Befehl

Das erste Argument von `bencher run` ist der optionale Benchmark-Befehl.
Dies ist der Befehl, der ausgef√ºhrt wird und Ihr Benchmark-Harness aufruft.
Er kann auch √ºber die Umgebungsvariable `BENCHER_CMD` gesetzt werden.
Standardm√§√üig wird dieser Befehl in einer Shell ausgef√ºhrt,
die mit den Optionen [`--shell`][shell option] und [`--flag`][flag option] konfiguriert werden kann.
Seine Ausgabe wird von einem [Benchmark-Harness-Adapter][benchmark harness adapters] geparst,
der mit der Option [`--adapter`][adapter option] gesetzt werden kann.
Wenn das Benchmark-Harness jedoch in eine Datei schreibt, muss au√üerdem die Option [`--file`][file option] verwendet werden,
um den Pfad der Ausgabedatei anzugeben.
Alternativ, um die Gr√∂√üe der Ausgabedatei (z. B. Bin√§rgr√∂√üe) statt ihres Inhalts zu erfassen,
verwenden Sie die Option [`--file-size`][file size option], um den Pfad der Ausgabedatei anzugeben.

Wenn Sie nicht m√∂chten, dass der Befehl in einer Shell ausgef√ºhrt wird, k√∂nnen Sie das Flag `--exec` verwenden oder zus√§tzliche Argumente f√ºr Ihren Befehl einfach als zus√§tzliche Argumente an `bencher run` √ºbergeben.

Shell-Form:
<ShellForm />

Exec-Form:
<ExecForm />

Der Benchmark-Befehl kann mehrfach mit der Option [`--iter`][iter option] ausgef√ºhrt werden,
und diese Ergebnisse k√∂nnen mit der Option [`--fold`][fold option] zu einem einzigen Ergebnis zusammengefasst werden.
Wenn eine der Iterationen fehlschl√§gt, gilt der gesamte Befehl als fehlgeschlagen,
es sei denn, das Flag [`--allow-failure`][allow failure flag] ist gesetzt.

Wenn der Benchmark-Befehl nicht angegeben ist, aber die Option [`--file`][file option],
dann wird `bencher run` stattdessen einfach aus dem angegebenen Ausgabedateipfad lesen.
√Ñhnlich, wenn der Benchmark-Befehl nicht angegeben ist, aber die Option [`--file-size`][file size option],
dann liest `bencher run` stattdessen nur die Gr√∂√üe der Datei am angegebenen Pfad.
Beide Optionen `--file` und `--file-size` k√∂nnen mehrfach angegeben werden, um aus mehreren Dateien zu lesen.

<blockquote>
<details>
  <summary>üê∞ Tipps zur Verwendung der <code>-&#8288;-file</code> Option</summary>
  Die <code>-&#8288;-file</code>-Option kann verwendet werden, um Benchmark-Ergebnisse aus einer Datei zu lesen.
  Sie k√∂nnen die <code>-&#8288;-file</code>-Option mehrfach angeben, um aus mehreren Dateien zu lesen.
  Wenn Sie die <code>-&#8288;-file</code>-Option mehrfach angeben,
  wird jede Datei als separate <code>iteration</code> des Benchmark-Befehls betrachtet.
  Beim Anzeigen werden diese Ergebnisse in separaten Tabellen dargestellt.

  Wenn Sie diese Ergebnisse zu einer einzigen <code>iteration</code> zusammenfassen m√∂chten,
  k√∂nnen Sie die Option <code>-&#8288;-iter</code> auf <code>1</code> setzen
  und die Option <code>-&#8288;-fold</code> auf eine der Aggregatfunktionen <code>min</code>, <code>max</code> oder <code>median</code> setzen.
  Dadurch werden die Ergebnisse zu einer einzigen <code>iteration</code> zusammengefasst
  und in einer einzigen Tabelle angezeigt.
  Setzen Sie die Option <code>-&#8288;-fold</code> <b>nicht</b> auf <code>mean</code>.
</details>
</blockquote>

Wenn weder der Benchmark-Befehl noch die Option [`--file`][file option]
noch die Option [`--file-size`][file size option] angegeben sind,
dann liest `bencher run` stattdessen von `stdin`.
Das erm√∂glicht es Ihnen, die Ausgabe eines anderen Befehls in eine Datei zu speichern oder sie in `bencher run` zu pipen.

[benchmark harness adapters]: /de/docs/explanation/adapters/

[shell option]: #--shell-shell
[flag option]: #--flag-flag
[adapter option]: #--adapter-adapter
[file option]: #--file-file
[file size option]: #--file-size-file
[iter option]: #--iter-iter
[fold option]: #--fold-fold
[allow failure flag]: #--allow-failure