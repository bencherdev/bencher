---
title: "pytest-benchmark"
description: "pytest-benchmarkã‚’ä½¿ç”¨ã—ã¦Pythonã‚³ãƒ¼ãƒ‰ã‚’ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯ã™ã‚‹ã‚¹ãƒ†ãƒƒãƒ—ãƒã‚¤ã‚¹ãƒ†ãƒƒãƒ—ã‚¬ã‚¤ãƒ‰"
heading: "pytest-benchmarkã‚’ä½¿ç”¨ã—ã¦Pythonã‚³ãƒ¼ãƒ‰ã‚’ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯ã™ã‚‹æ–¹æ³•"
published: "2024-10-09T16:30:00Z"
modified: "2024-11-03T08:45:00Z"
sortOrder: 1
---

import Benchmarking from "../../../chunks/benchmarking/ja/benchmarking.mdx";
import FizzBuzzRules from "../../../chunks/benchmarking/ja/fizz-buzz-rules.mdx";
import FizzBuzzPython from "../../../chunks/benchmarking-python/ja/fizz-buzz-python.mdx";
import StepByStepPython from "../../../chunks/benchmarking-python/ja/step-by-step-python.mdx";
import MicroVsMacro from "../../../chunks/benchmarking/ja/micro-vs-macro.mdx";
import BenchmarkingPython from "../../../chunks/benchmarking-python/ja/benchmarking-python.mdx";
import FizzBuzzRefactor from "../../../chunks/benchmarking-python/pytest-benchmark/ja/fizz-buzz-refactor.mdx";
import BenchmarkingFizzBuzz from "../../../chunks/benchmarking-python/pytest-benchmark/ja/benchmarking-fizz-buzz.mdx";
import FizzBuzzFibonacciPython from "../../../chunks/benchmarking-python/ja/fizz-buzz-fibonacci-python.mdx";
import PlayGameCode from "../../../chunks/benchmarking-python/pytest-benchmark/play-game-code.mdx";
import BenchmarkingFizzBuzzFibonacci from "../../../chunks/benchmarking-python/pytest-benchmark/ja/benchmarking-fizz-buzz-fibonacci.mdx";
import FizzBuzzFibonacciOpenPython from "../../../chunks/benchmarking-python/ja/fizz-buzz-fibonacci-open-python.mdx";
import FizzBuzzFibonacciOpenCode from "../../../chunks/benchmarking-python/fizz-buzz-fibonacci-open-code.mdx";
import TheEnd from "../../../chunks/benchmarking/ja/the-end.mdx";
import OnFire from "../../../chunks/benchmarking/ja/on-fire.mdx";
import TestGameOnFireCode from "../../../chunks/benchmarking-python/pytest-benchmark/test-game-on-fire-code.mdx";
import PytestGameOnFireOutputStart from "../../../chunks/benchmarking-python/pytest-benchmark/pytest-game-on-fire-output-start.mdx";
import PytestGameOnFireOutput from "../../../chunks/benchmarking-python/pytest-benchmark/pytest-game-on-fire-output.mdx";
import FizzBuzzFibonacciFix from "../../../chunks/benchmarking-python/pytest-benchmark/ja/fizz-buzz-fibonacci-fix.mdx";
import PytestGameFixOutput from "../../../chunks/benchmarking-python/pytest-benchmark/pytest-game-fix-output.mdx";
import CatchInCi from "../../../chunks/benchmarking/ja/catch-in-ci.mdx";
import CatchInCiOutput from "../../../chunks/benchmarking-python/pytest-benchmark/catch-in-ci-output.mdx";
import CatchInCiPlot from "../../../chunks/benchmarking/ja/catch-in-ci-plot.mdx";
import CatchInCiPlotRustBench from "../../../chunks/benchmarking-rust/catch-in-ci-plot-rust-bench.mdx";
import BencherFooter from "../../../chunks/learn/ja/bencher-footer.mdx";

<Benchmarking />

<FizzBuzzPython />

<StepByStepPython />

<MicroVsMacro />

<BenchmarkingPython />

ä¸¡æ–¹ã¨ã‚‚[Bencherã«ã‚ˆã‚‹ã‚µãƒãƒ¼ãƒˆ](/ja/docs/explanation/adapters/)ãŒã‚ã‚Šã¾ã™ã€‚ ã§ã¯ã€ãªãœ`pytest-benchmark`ã‚’é¸ã¶ã®ã§ã—ã‚‡ã†ã‹ï¼Ÿ `pytest-benchmark`ã¯ã€Pythonã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ ã«ãŠã‘ã‚‹ãƒ‡ãƒ•ã‚¡ã‚¯ãƒˆã‚¹ã‚¿ãƒ³ãƒ€ãƒ¼ãƒ‰ãªãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆãƒãƒ¼ãƒã‚¹ã§ã‚ã‚‹`pytest`ã¨ã‚·ãƒ¼ãƒ ãƒ¬ã‚¹ã«çµ±åˆã•ã‚Œã¾ã™ã€‚ ç‰¹ã«ã™ã§ã«`pytest`ã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹å ´åˆã¯ã€ã‚³ãƒ¼ãƒ‰ã®ãƒ¬ã‚¤ãƒ†ãƒ³ã‚·ã‚’ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯ã™ã‚‹ãŸã‚ã«`pytest-benchmark`ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã‚’ãŠå‹§ã‚ã—ã¾ã™ã€‚ã¤ã¾ã‚Šã€`pytest-benchmark`ã¯ã‚¦ã‚©ãƒ¼ãƒ«ã‚¯ãƒ­ãƒƒã‚¯æ™‚é–“ã‚’æ¸¬å®šã™ã‚‹ã®ã«å„ªã‚Œã¦ã„ã¾ã™ã€‚

<FizzBuzzRefactor />

<BenchmarkingFizzBuzz />

<FizzBuzzFibonacciPython>
  <PlayGameCode />
</FizzBuzzFibonacciPython>

<BenchmarkingFizzBuzzFibonacci />

<FizzBuzzFibonacciOpenPython>
    <FizzBuzzFibonacciOpenCode />
</FizzBuzzFibonacciOpenPython>

<TheEnd />

<br />

<OnFire />

<TestGameOnFireCode />

- æ•°å­—ã®ç™¾ï¼ˆ`100`ï¼‰ã§ã‚²ãƒ¼ãƒ ã‚’ã™ã‚‹ãŸã‚ã®ãƒã‚¤ã‚¯ãƒ­ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯`test_game_100`
- æ•°å­—ã®ç™¾ä¸‡ï¼ˆ`1_000_000`ï¼‰ã§ã‚²ãƒ¼ãƒ ã‚’ã™ã‚‹ãŸã‚ã®ãƒã‚¤ã‚¯ãƒ­ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯`test_game_1_000_000`

å®Ÿè¡Œã—ã¦ã¿ãŸã¨ã“ã‚ã€æ¬¡ã®ã‚ˆã†ãªçµæœãŒå¾—ã‚‰ã‚Œã¾ã—ãŸï¼š

<PytestGameOnFireOutputStart />

ã—ã°ã‚‰ããŠå¾…ã¡ãã ã•ã„...

<PytestGameOnFireOutput />

ä½•ã§ã™ã¨ï¼ `15.8470 us` x `1,000` ã¯ `15,847.0 us` ã«ãªã‚‹ã¹ãã¨ã“ã‚ãŒã€ `571,684.6334 us` ã§ã¯ãªã„ã‹ ğŸ¤¯
Fibonacciã‚·ãƒ¼ã‚±ãƒ³ã‚¹ã®ã‚³ãƒ¼ãƒ‰ãŒæ©Ÿèƒ½çš„ã«ã¯æ­£ã—ã„ã®ã«ã€ã©ã“ã‹ã«ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ä¸Šã®ãƒã‚°ãŒã‚ã‚‹ã«é•ã„ãªã„ã€‚

<FizzBuzzFibonacciFix />

ã•ã¦ã€ãã‚Œã‚‰ã®ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯ã‚’å†å®Ÿè¡Œã—ã¦ã€ã©ã†ãªã£ãŸã‹è¦‹ã¦ã¿ã¾ã—ã‚‡ã†ï¼š

<PytestGameFixOutput />

ãŠãŠã€ã™ã”ã„ï¼ `test_game`ã®ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯ãŒå…ƒã®FizzBuzzãƒ¬ãƒ™ãƒ«ã«æˆ»ã‚Šã¾ã—ãŸã€‚ å…·ä½“çš„ã«ã©ã®ã‚¹ã‚³ã‚¢ã ã£ãŸã®ã‹æ­£ç¢ºã«ã¯æ€ã„å‡ºã›ã¾ã›ã‚“ãŒã€3é€±é–“ã‚‚çµŒã£ã¦ã„ã¦ã€ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã®å±¥æ­´ã‚‚ãã“ã¾ã§é¡ã‚Œã¾ã›ã‚“ã€‚ ãã—ã¦ã€`pytest-benchmark`ã¯è¦æ±‚ã—ãŸæ™‚ã«ã®ã¿çµæœã‚’ä¿å­˜ã—ã¾ã™ãŒã€ãŠãã‚‰ãè¿‘ã„ã¨æ€ã„ã¾ã™ï¼

`test_game_100`ã®ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯ã¯ã»ã¼50å€ã«æ¸›å°‘ã—ã€`322.0815 ns`ã«ãªã‚Šã¾ã—ãŸã€‚
ãã—ã¦`test_game_1_000_000`ã®ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯ã¯ãªã‚“ã¨500,000å€ä»¥ä¸Šã‚‚æ¸›å°‘ã—ã¾ã—ãŸï¼ `571,684,633.4 ns`ã‹ã‚‰`753.1445 ns`ã«ï¼

> ğŸ° ãŠã£ã¨ã€å°‘ãªãã¨ã‚‚ã“ã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒã‚°ãŒãƒ—ãƒ­ãƒ€ã‚¯ã‚·ãƒ§ãƒ³ã«æŒã¡è¾¼ã¾ã‚Œã‚‹å‰ã«ç™ºè¦‹ã§ãã¦ã‚ˆã‹ã£ãŸ... ã„ã‚„ã€æ°—ã«ã—ãªã„ã§...

<CatchInCi />

<CatchInCiOutput />

<CatchInCiPlot />

<CatchInCiPlotRustBench title="Pythonã‚’pytest-benchmarkã§ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯ã™ã‚‹æ–¹æ³•" />

<BencherFooter />