---
title: "S√©lection de Branche"
description: "Aper√ßu des fa√ßons de s√©lectionner une branche git en utilisant la sous-commande CLI bencher run"
heading: "S√©lection de branche avec bencher run"
sortOrder: 3
---

Il existe plusieurs fa√ßons de d√©finir la branche de projet dans la sous-commande <code><a href="/fr/docs/explanation/bencher-run/">bencher run</a></code> CLI.
Si aucune de ces options ou drapeaux n'est utilis√©e, alors `main` est utilis√©e comme branche par d√©faut.

<br />

### `--branch <BRANCH>`

<br />

La fa√ßon la plus simple est de d√©finir l'option `--branch` ou la variable d'environnement `BENCHER_BRANCH` sur le slug ou UUID d'une branche d√©j√† existante.
Si les deux sont d√©finis, l'option `--branch` prime sur la variable d'environnement `BENCHER_BRANCH`.

Cependant, si ces deux √©l√©ments sont manquants ou si la valeur fournie est invalide, alors la commande `bencher run` donnera une erreur.
Ce n'est pas le plus pratique dans les environnements CI/CD, o√π de nouvelles branches apparaissent tout le temps.
Au lieu d'utiliser `--branch` ou la variable d'environnement `BENCHER_BRANCH`, il existe une option `--if-branch`.

<br />

### `--if-branch <BRANCH_NAME>`

<br />

L'option `--if-branch` attend un argument de _nom_ de branche et effectue une requ√™te pour voir si une seule branche avec ce nom existe.
S'il existe exactement une branche, alors `bencher run` continue avec cette branche.
Sinon, `bencher run` se contentera de se connecter et de quitter avec succ√®s.

Par exemple, si `main` existe alors l'utilisation de `--if-branch main` le trouverait. Puis `bencher run` continuerait en utilisant `main`.

L'option `--branch` est en conflit avec l'option `--if-branch`, mais la variable d'environnement `BENCHER_BRANCH` prime sur l'option `--if-branch`.

<br />

> üê∞ Note : Lorsque vous utilisez des variables d'environnement, elles doivent √™tre entour√©es de guillemets doubles (par exemple `--if-branch "$MY_ENV_VAR"`).

<br />

### `--else-if-branch <BRANCH_NAME>`

<br />

Souvent, lorsqu'on travaille sur des branches de fonctionnalit√©s, il serait utile d'avoir des donn√©es historiques de la branche parent/base.
C'est ici que l'option `--else-if-branch` entre en jeu.
L'option `--else-if-branch` attend un autre argument de _nom_ de branche.
Si `--if-branch` √©choue, alors `--else-if-branch` effectue une requ√™te pour voir si une seule branche avec ce nom existe.
Si exactement une branche est trouv√©e, alors toutes les donn√©es et seuils de cette branche de d√©part seront copi√©s sur une nouvelle branche cr√©√©e avec le nom donn√© √† `--if-branch`.

Par exemple, si `feature_branch` n'existe pas encore, mais que `main` existe et a des donn√©es historiques.
Alors l'utilisation de `--if-branch feature_branch --else-if-branch main`, cr√©erait une nouvelle branche nomm√©e `feature_branch`,
et elle aurait une copie de toutes les donn√©es et seuils de `main`.
Puis `bencher run` continuerait en utilisant `feature_branch`.

Il est aussi possible d'utiliser plusieurs options `--else-if-branch`.
Par exemple si `mia_branch` n'existe pas, `--if-branch feature_branch --else-if-branch mia_branch --else-if-branch main`
fonctionnerait efficacement de la m√™me mani√®re que l'exemple pr√©c√©dent, en copiant toutes les donn√©es et seuils de `main` et en continuant.

Si la requ√™te `--if-branch` r√©ussit alors `--else-if-branch` n'est jamais ex√©cut√©, et si `--if-branch` et `--else-if-branch` √©chouent, `bencher run` se connectera simplement et quittera avec succ√®s.

<br />

> üê∞ Note : Lorsque vous utilisez des variables d'environnement, elles doivent √™tre entour√©es de guillemets doubles (par exemple `--else-if-branch "$MY_ENV_VAR"`).

<br />

### `--else-branch`

<br />

Pour garantir dans tous les cas que les mesures d'une ex√©cution sont stock√©es, il existe un drapeau `--else-branch`.
Le drapeau `--else-branch` ne prend aucun argument.
Si `--if-branch` √©choue, alors `--else-branch` cr√©e simplement une nouvelle branche avec le nom donn√© √† `--if-branch`.

Par exemple, si `feature_branch` n'existe pas encore.
Alors en utilisant `--if-branch feature_branch --else-branch`, une nouvelle branche nomm√©e `feature_branch` serait cr√©√©e,
et elle n'aurait aucune donn√©e initiale ni seuil.
Puis `bencher run` continuerait en utilisant `feature_branch`.

Il est √©galement possible de cha√Æner les trois drapeaux ensemble: `--if-branch`, `--else-if-branch`, et `--else-branch`.
Par exemple, `--if-branch feature_branch --else-if-branch main --else-branch`.

Si la requ√™te `--if-branch` r√©ussit alors `--else-branch` n'est jamais ex√©cut√©, et de m√™me, si `--if-else-branch` r√©ussit alors `--else-branch` n'est jamais ex√©cut√©.
Et `--else-branch` est cens√© toujours r√©ussir et quitter avec succ√®s.

<br />

### `--endif-branch`

<br />

Le drapeau `--endif-branch` fonctionne comme un drapeau noop optionnel pour indiquer la fin de l'instruction `--if-branch`.

Il est possible de cha√Æner les quatre drapeaux ensemble: `--if-branch`, `--else-if-branch`, `--else-branch`, et `--endif-branch`.
Par exemple, `--if-branch feature_branch --else-if-branch "$MY_ENV_VAR" --else-branch --endif-branch`.

<br />
<br />

> üê∞ F√©licitations ! Vous avez tout appris sur la s√©lection de branche ! üéâ

<br/>

<h2><a href="/fr/docs/explanation/adapters/">Continuer : Adaptateurs de Harnais de Benchmark ‚û°</a></h2>
