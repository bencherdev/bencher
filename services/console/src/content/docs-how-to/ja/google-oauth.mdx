---
title: "セルフホストの Google OAuth"
description: "Bencher Self-Hosted が Google による認証を行えるようにする Google OAuth 2.0 クライアントの作成方法"
heading: "セルフホストでの Google OAuth 2.0 クライアントの作成方法"
published: "2025-09-07T12:36:00Z"
modified: "2025-09-07T12:36:00Z"
sortOrder: 10
---

Bencher Cloud をご利用の場合は、`Google` ボタンを使って [サインアップ](/auth/signup) または [ログイン](/auth/login) できます。

Bencher Self-Hosted を利用するには、[Bencher Plus Enterprise プラン][bencher plus enterprise] を契約し、独自の Google OAuth2 クライアントを作成し、[コンソールサーバの設定][console config] と [API サーバの設定][server config] を更新する必要があります。

[bencher plus enterprise]: /pricing/?level=enterprise
[console config]: /ja/docs/reference/console-config/
[server config]: /ja/docs/reference/server-config/

## Google OAuth 2.0 クライアントの作成

- [Google API コンソール][google api console] にサインアップする
- 左側のサイドバーで [the `Credentials` page][google cloud credentials] に移動する
- `OAuth 2.0 Client ID` を作成する
  - `➕ Create Credentials` > `OAuth client ID` をクリック
  - 同意画面を設定する
    - Get started
      - App Information
        - App name
          - 名前を選択（例: `Bencher for My Enterprise`）
        - User support email
          - サポート用のメールアドレスを選択
      - Audience
        - `Internal`
          - 組織内のユーザーのみが利用できます。アプリの検証を提出する必要はありません。
      - Contact Information
        - 連絡用のメールアドレスを追加
          - これらのメールアドレスは、Google がプロジェクトに関する変更を通知するために使用されます。
      - Finish
        - Google API Services User Data Policy に同意する
  - `Create OAuth Client` をクリック
    - Application type
      - `Web application` を選択
      - Name
        - 名前を選択（例: `Bencher for My Enterprise`）
    - Authorized JavaScript origins
      - Bencher Console の URL を入力（例: `https://bencher.example.com`）
    - Authorized redirect URIs
      - Bencher Console の URL に `/auth/google` を付けたものを入力（例: `https://bencher.example.com/auth/google`）
    - `Create` をクリック
  - OAuth クライアントが作成されます
    - `Client ID` を控える（例: `012345-abcd6789envs.apps.googleusercontent.com`）
    - `Client Secret` を控える（例: `GOCSPX-abcdefgh1234567890wxyz`）
    - `OK` をクリック

[google api console]: https://console.developers.google.com/
[google cloud credentials]: https://console.cloud.google.com/apis/credentials

> 🐰 使用されていない Google OAuth クライアントは、6 か月間使用されない場合に削除される可能性があります。削除される場合は Google から通知が届き、削除後 30 日以内であればクライアントを復元できます。

## Google OAuth クライアントの設定

### コンソール UI
`bencher-console` Docker イメージを実行する際に、環境変数 `OAUTH_GOOGLE` を `true` に設定します（例: `OAUTH_GOOGLE=true`）。
Client ID がないと、UI に Google ボタンが表示されません。

### API サーバ
`client_id` と `client_secret` を [the `plus.google` section of the server config](/ja/docs/reference/server-config/#plusgoogle) に追加します。
Google セクションが存在しない場合、サーバは Google 認証リクエストを失敗させます。

<br/>

> 🐰 おめでとうございます！Google OAuth2 クライアントの設定方法を学びました！ 🎉

<br/>

<h2><a href="/ja/docs/how-to/github-actions/">Bencher を GitHub Actions に追加 ➡</a></h2>